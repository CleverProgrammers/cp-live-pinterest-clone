!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t){
/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t,n){var o=e.__flags||(e.__flags=Object.create(null));if(3!==arguments.length)return o[t];o[t]=n}},function(e,t,n){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=[];
/*!
 * Chai version
 */t.version="4.2.0",
/*!
 * Assertion Error
 */
t.AssertionError=n(13);
/*!
 * Utils for plugins (not exported)
 */
var r=n(23);t.use=function(e){return~o.indexOf(e)||(e(t,r),o.push(e)),t},
/*!
 * Utility Functions
 */
t.util=r;
/*!
 * Configuration
 */
var i=n(3);t.config=i;
/*!
 * Primary `Assertion` prototype
 */
var s=n(41);t.use(s);
/*!
 * Core Assertions
 */
var a=n(42);t.use(a);
/*!
 * Expect interface
 */
var c=n(43);t.use(c);
/*!
 * Should interface
 */
var u=n(44);t.use(u);
/*!
 * Assert interface
 */
var f=n(45);t.use(f)},function(e,t){
/*!
 * Chai - transferFlags utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t,n){var o=e.__flags||(e.__flags=Object.create(null));for(var r in t.__flags||(t.__flags=Object.create(null)),n=3!==arguments.length||n,o)(n||"object"!==r&&"ssfi"!==r&&"lockSsfi"!==r&&"message"!=r)&&(t.__flags[r]=o[r])}},function(e,t){e.exports={includeStack:!1,showDiff:!0,truncateThreshold:40,useProxy:!0,proxyExcludedKeys:["then","catch","inspect","toJSON"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(11);o.__exportStar(n(21),t),o.__exportStar(n(12),t),o.__exportStar(n(22),t)},function(e,t,n){e.exports=n(1)},function(e,t,n){var o=n(3);
/*!
 * Chai - isProxyEnabled helper
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */e.exports=function(){return o.useProxy&&"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect}},function(e,t){var n=Object.getOwnPropertyDescriptor((function(){}),"length");
/*!
 * Chai - addLengthGuard utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */e.exports=function(e,t,o){return n.configurable?(Object.defineProperty(e,"length",{get:function(){if(o)throw Error("Invalid Chai property: "+t+'.length. Due to a compatibility issue, "length" cannot directly follow "'+t+'". Use "'+t+'.lengthOf" instead.');throw Error("Invalid Chai property: "+t+'.length. See docs for proper usage of "'+t+'".')}}),e):e}},function(e,t,n){var o=n(3),r=n(0),i=n(17),s=n(6),a=["__flags","__methods","_obj","assert"];e.exports=function(e,t){return s()?new Proxy(e,{get:function e(n,s){if("string"==typeof s&&-1===o.proxyExcludedKeys.indexOf(s)&&!Reflect.has(n,s)){if(t)throw Error("Invalid Chai property: "+t+"."+s+'. See docs for proper usage of "'+t+'".');var c=null,u=4;throw i(n).forEach((function(e){if(!Object.prototype.hasOwnProperty(e)&&-1===a.indexOf(e)){var t=function(e,t,n){if(Math.abs(e.length-t.length)>=n)return n;for(var o=[],r=0;r<=e.length;r++)o[r]=Array(t.length+1).fill(0),o[r][0]=r;for(var i=0;i<t.length;i++)o[0][i]=i;for(r=1;r<=e.length;r++){var s=e.charCodeAt(r-1);for(i=1;i<=t.length;i++)Math.abs(r-i)>=n?o[r][i]=n:o[r][i]=Math.min(o[r-1][i]+1,o[r][i-1]+1,o[r-1][i-1]+(s===t.charCodeAt(i-1)?0:1))}return o[e.length][t.length]}(s,e,u);t<u&&(c=e,u=t)}})),null!==c?Error("Invalid Chai property: "+s+'. Did you mean "'+c+'"?'):Error("Invalid Chai property: "+s)}return-1!==a.indexOf(s)||r(n,"lockSsfi")||r(n,"ssfi",e),Reflect.get(n,s)}}):e}},function(e,t,n){(function(t){var n;n=function(){"use strict";var e="function"==typeof Promise,n="object"==typeof self?self:t,o="undefined"!=typeof Symbol,r="undefined"!=typeof Map,i="undefined"!=typeof Set,s="undefined"!=typeof WeakMap,a="undefined"!=typeof WeakSet,c="undefined"!=typeof DataView,u=o&&void 0!==Symbol.iterator,f=o&&void 0!==Symbol.toStringTag,l=i&&"function"==typeof Set.prototype.entries,d=r&&"function"==typeof Map.prototype.entries,h=l&&Object.getPrototypeOf((new Set).entries()),p=d&&Object.getPrototypeOf((new Map).entries()),g=u&&"function"==typeof Array.prototype[Symbol.iterator],y=g&&Object.getPrototypeOf([][Symbol.iterator]()),b=u&&"function"==typeof String.prototype[Symbol.iterator],m=b&&Object.getPrototypeOf(""[Symbol.iterator]());return function(t){var o=typeof t;if("object"!==o)return o;if(null===t)return"null";if(t===n)return"global";if(Array.isArray(t)&&(!1===f||!(Symbol.toStringTag in t)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&t===window.location)return"Location";if("object"==typeof window.document&&t===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&t===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&t===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&t instanceof window.HTMLElement){if("BLOCKQUOTE"===t.tagName)return"HTMLQuoteElement";if("TD"===t.tagName)return"HTMLTableDataCellElement";if("TH"===t.tagName)return"HTMLTableHeaderCellElement"}}var u=f&&t[Symbol.toStringTag];if("string"==typeof u)return u;var l=Object.getPrototypeOf(t);return l===RegExp.prototype?"RegExp":l===Date.prototype?"Date":e&&l===Promise.prototype?"Promise":i&&l===Set.prototype?"Set":r&&l===Map.prototype?"Map":a&&l===WeakSet.prototype?"WeakSet":s&&l===WeakMap.prototype?"WeakMap":c&&l===DataView.prototype?"DataView":r&&l===p?"Map Iterator":i&&l===h?"Set Iterator":g&&l===y?"Array Iterator":b&&l===m?"String Iterator":null===l?"Object":Object.prototype.toString.call(t).slice(8,-1)}},e.exports=n()}).call(this,n(26))},function(e,t,n){var o=n(16),r=n(17),i=n(29),s=n(3);e.exports=function(e,t,n,o){return a({showHidden:t,seen:[],stylize:function(e){return e}},e,void 0===n?2:n)};function a(e,n,p){if(n&&"function"==typeof n.inspect&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var g=n.inspect(p,e);return"string"!=typeof g&&(g=a(e,g,p)),g}var y,b=function(e,t){switch(typeof t){case"undefined":return e.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string");case"number":return 0===t&&1/t==-1/0?e.stylize("-0","number"):e.stylize(""+t,"number");case"boolean":return e.stylize(""+t,"boolean");case"symbol":return e.stylize(t.toString(),"symbol")}if(null===t)return e.stylize("null","null")}(e,n);if(b)return b;if(y=n,"object"==typeof HTMLElement?y instanceof HTMLElement:y&&"object"==typeof y&&"nodeType"in y&&1===y.nodeType&&"string"==typeof y.nodeName){if("outerHTML"in n)return n.outerHTML;try{if(document.xmlVersion)return(new XMLSerializer).serializeToString(n);var m=document.createElementNS("http://www.w3.org/1999/xhtml","_");m.appendChild(n.cloneNode(!1));var w=m.innerHTML.replace("><",">"+n.innerHTML+"<");return m.innerHTML="",w}catch(e){}}var v,x,O=i(n),P=e.showHidden?r(n):O;if(0===P.length||d(n)&&(1===P.length&&"stack"===P[0]||2===P.length&&"description"===P[0]&&"stack"===P[1])){if("function"==typeof n)return x=(v=o(n))?": "+v:"",e.stylize("[Function"+x+"]","special");if(f(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(l(n))return e.stylize(Date.prototype.toUTCString.call(n),"date");if(d(n))return c(n)}var j,S,q="",N=!1,I=!1,A=["{","}"];if("object"==typeof(j=n)&&/\w+Array]$/.test(h(j))&&(I=!0,A=["[","]"]),function(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===h(e)}(n)&&(N=!0,A=["[","]"]),"function"==typeof n&&(q=" [Function"+(x=(v=o(n))?": "+v:"")+"]"),f(n)&&(q=" "+RegExp.prototype.toString.call(n)),l(n)&&(q=" "+Date.prototype.toUTCString.call(n)),d(n))return c(n);if(0===P.length&&(!N||0==n.length))return A[0]+q+A[1];if(p<0)return f(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");if(e.seen.push(n),N)S=function(e,t,n,o,r){for(var i=[],s=0,a=t.length;s<a;++s)Object.prototype.hasOwnProperty.call(t,String(s))?i.push(u(e,t,n,o,String(s),!0)):i.push("");return r.forEach((function(r){r.match(/^\d+$/)||i.push(u(e,t,n,o,r,!0))})),i}(e,n,p,O,P);else{if(I)return function(e){for(var t="[ ",n=0;n<e.length;++n){if(t.length>=s.truncateThreshold-7){t+="...";break}t+=e[n]+", "}-1!==(t+=" ]").indexOf(",  ]")&&(t=t.replace(",  ]"," ]"));return t}(n);S=P.map((function(t){return u(e,n,p,O,t,N)}))}return e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return e+t.length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(S,q,A)}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function u(e,t,n,o,r,i){var s,c,u=Object.getOwnPropertyDescriptor(t,r);if(u&&(u.get?c=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(c=e.stylize("[Setter]","special"))),o.indexOf(r)<0&&(s="["+r+"]"),c||(e.seen.indexOf(t[r])<0?(c=a(e,t[r],null===n?null:n-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+c.split("\n").map((function(e){return"   "+e})).join("\n")):c=e.stylize("[Circular]","special")),void 0===s){if(i&&r.match(/^\d+$/))return c;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+c}function f(e){return"object"==typeof e&&"[object RegExp]"===h(e)}function l(e){return"object"==typeof e&&"[object Date]"===h(e)}function d(e){return"object"==typeof e&&"[object Error]"===h(e)}function h(e){return Object.prototype.toString.call(e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return r})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return s})),n.d(t,"__decorate",(function(){return a})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return f})),n.d(t,"__generator",(function(){return l})),n.d(t,"__createBinding",(function(){return d})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return g})),n.d(t,"__spread",(function(){return y})),n.d(t,"__spreadArrays",(function(){return b})),n.d(t,"__await",(function(){return m})),n.d(t,"__asyncGenerator",(function(){return w})),n.d(t,"__asyncDelegator",(function(){return v})),n.d(t,"__asyncValues",(function(){return x})),n.d(t,"__makeTemplateObject",(function(){return O})),n.d(t,"__importStar",(function(){return j})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return q})),n.d(t,"__classPrivateFieldSet",(function(){return N}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function r(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function a(e,t,n,o){var r,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(i<3?r(s):i>3?r(t,n,s):r(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,o){t(n,o,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))}function l(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var d=Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]};function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||d(t,e,n)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function b(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,r++)o[r]=i[s];return o}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(e){r[e]&&(o[e]=function(t){return new Promise((function(n,o){i.push([e,t,n,o])>1||a(e,t)}))})}function a(e,t){try{(n=r[e](t)).value instanceof m?Promise.resolve(n.value.v).then(c,u):f(i[0][2],n)}catch(e){f(i[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function f(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function v(e){var t,n;return t={},o("next"),o("throw",(function(e){throw e})),o("return"),t[Symbol.iterator]=function(){return this},t;function o(o,r){t[o]=e[o]?function(t){return(n=!n)?{value:m(e[o](t)),done:"return"===o}:r?r(t):t}:r}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise((function(o,r){(function(e,t,n,o){Promise.resolve(o).then((function(t){e({value:t,done:n})}),t)})(o,r,(t=e[n](t)).done,t.value)}))}}}function O(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var P=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&d(t,e,n);return P(t,e),t}function S(e){return e&&e.__esModule?e:{default:e}}function q(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function N(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";function o(e,t,n){let o="",r=e,i=0,s=-1;for(;(s=r.indexOf(t))>-1;)o+=e.substring(i,i+s)+n,r=r.substring(s+t.length,r.length),i+=s+t.length;return r.length>0&&(o+=e.substring(e.length-r.length,e.length)),o}function r(e){let t=-1;const n=e.length,r=new Array(n);for(;++t<n;)"string"==typeof e[t]?r[t]=o(o(decodeURIComponent(e[t]),"~1","/"),"~0","~"):r[t]=e[t];return r}function i(e){let t=-1;const n=e.length,r=new Array(n);for(;++t<n;)"string"==typeof e[t]?r[t]=encodeURIComponent(o(o(e[t],"~","~0"),"/","~1")):r[t]=e[t];return r}function s(e){let t=-1;const n=e.length,r=new Array(n);for(;++t<n;)"string"==typeof e[t]?r[t]=o(o(e[t],"~1","/"),"~0","~"):r[t]=e[t];return r}function a(e){let t=-1;const n=e.length,r=new Array(n);for(;++t<n;)"string"==typeof e[t]?r[t]=o(o(e[t],"~","~0"),"/","~1"):r[t]=e[t];return r}function c(e){if("string"!=typeof e)throw new TypeError("Invalid type: JSON Pointers are represented as strings.");if(0===e.length)return[];if("/"!==e[0])throw new ReferenceError("Invalid JSON Pointer syntax. Non-empty pointer must begin with a solidus `/`.");return s(e.substring(1).split("/"))}function u(e){if("string"!=typeof e)throw new TypeError("Invalid type: JSON Pointers are represented as strings.");if(0===e.length||"#"!==e[0])throw new ReferenceError("Invalid JSON Pointer syntax; URI fragment identifiers must begin with a hash.");if(1===e.length)return[];if("/"!==e[1])throw new ReferenceError("Invalid JSON Pointer syntax.");return r(e.substring(2).split("/"))}function f(e,t){if("number"==typeof t)return t;const n=t.length;if(!n)return-1;let o=0;if(1===n&&"-"===t[0])return Array.isArray(e)?e.length:0;for(;++o<n;)if(t[o]<"0"||t[o]>"9")return-1;return parseInt(t,10)}function l(e){return(null==e?void 0:e.length)>0&&"#"===e[0]}function d(e){return l(e)?u:c}Object.defineProperty(t,"__esModule",{value:!0}),t.decodePtrInit=t.pickDecoder=t.looksLikeFragment=t.unsetValueAtPath=t.setValueAtPath=t.compilePointerDereference=t.toArrayIndexReference=t.encodeUriFragmentIdentifier=t.decodeUriFragmentIdentifier=t.encodePointer=t.decodePointer=t.encodePointerSegments=t.decodePointerSegments=t.encodeFragmentSegments=t.decodeFragmentSegments=t.replace=void 0,t.replace=o,t.decodeFragmentSegments=r,t.encodeFragmentSegments=i,t.decodePointerSegments=s,t.encodePointerSegments=a,t.decodePointer=c,t.encodePointer=function(e){if(!e||e&&!Array.isArray(e))throw new TypeError("Invalid type: path must be an array of segments.");return 0===e.length?"":"/".concat(a(e).join("/"))},t.decodeUriFragmentIdentifier=u,t.encodeUriFragmentIdentifier=function(e){if(!e||e&&!Array.isArray(e))throw new TypeError("Invalid type: path must be an array of segments.");return 0===e.length?"#":"#/".concat(i(e).join("/"))},t.toArrayIndexReference=f,t.compilePointerDereference=function(e){let t="if (typeof(it) !== 'undefined'";return 0===e.length?e=>e:(t=e.reduce((t,n,r)=>t+" && \n\ttypeof((it = it['"+o(e[r]+"","\\","\\\\")+"'])) !== 'undefined'","if (typeof(it) !== 'undefined'"),t+=") {\n\treturn it;\n }",new Function("it",t))},t.setValueAtPath=function(e,t,n,o=!1){if(0===n.length)throw new Error("Cannot set the root object; assign it directly.");if(void 0===e)throw new TypeError("Cannot set values on undefined");let r=e;const i=n.length,s=n.length-1;let a,c,u,l=-1;for(;++l<i;)if(a=n[l],Array.isArray(r)){if("-"===a&&l===s)return void r.push(t);if(u=f(r,a),r.length>u){if(l===s){c=r[u],r[u]=t;break}r=r[u]}else if(l===s&&u===r.length){if(o)return void r.push(t)}else o&&(r=r[u]=l===s?t:{})}else{if(void 0===r[a]){if(o){if(l===s)return void(r[a]=t);if(-1!==f(r[a],n[l+1])){r=r[a]=[];continue}r=r[a]={};continue}return}if(l===s){c=r[a],r[a]=t;break}r=r[a]}return c},t.unsetValueAtPath=function(e,t){if(0===t.length)throw new Error("Cannot unset the root object; assign it directly.");if(void 0===e)throw new TypeError("Cannot unset values on undefined");let n=e;const o=t.length,r=t.length-1;let i,s,a,c=-1;for(;++c<o;)if(i=t[c],Array.isArray(n)){if(a=f(n,i),a>=n.length)return;if(c===r){s=n[a],delete n[a];break}n=n[a]}else{if(void 0===n[i])return;if(c===r){s=n[i],delete n[i];break}n=n[i]}return s},t.looksLikeFragment=l,t.pickDecoder=d,t.decodePtrInit=function(e){return Array.isArray(e)?e.slice(0):d(e)(e)}},function(e,t){
/*!
 * assertion-error
 * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>
 * MIT Licensed
 */
/*!
 * Return a function that will copy properties from
 * one object to another excluding any originally
 * listed. Returned function will create a new `{}`.
 *
 * @param {String} excluded properties ...
 * @return {Function}
 */
function n(){var e=[].slice.call(arguments);function t(t,n){Object.keys(n).forEach((function(o){~e.indexOf(o)||(t[o]=n[o])}))}return function(){for(var e=[].slice.call(arguments),n=0,o={};n<e.length;n++)t(o,e[n]);return o}}function o(e,t,r){var i=n("name","message","stack","constructor","toJSON")(t||{});for(var s in this.message=e||"Unspecified AssertionError",this.showDiff=!1,i)this[s]=i[s];if(r=r||o,Error.captureStackTrace)Error.captureStackTrace(this,r);else try{throw new Error}catch(e){this.stack=e.stack}}
/*!
 * Inherit from Error.prototype
 */
/*!
 * Primary Exports
 */
e.exports=o,o.prototype=Object.create(Error.prototype),
/*!
 * Statically set name
 */
o.prototype.name="AssertionError",
/*!
 * Ensure correct constructor
 */
o.prototype.constructor=o,o.prototype.toJSON=function(e){var t=n("constructor","toJSON","stack")({name:this.name},this);return!1!==e&&this.stack&&(t.stack=this.stack),t}},function(e,t){
/*!
 * Chai - getActual utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){return t.length>4?t[4]:e._obj}},function(e,t,n){
/*!
 * Chai - flag utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var o=n(10),r=n(3);e.exports=function(e){var t=o(e),n=Object.prototype.toString.call(e);if(r.truncateThreshold&&t.length>=r.truncateThreshold){if("[object Function]"===n)return e.name&&""!==e.name?"[Function: "+e.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+e.length+") ]";if("[object Object]"===n){var i=Object.keys(e);return"{ Object ("+(i.length>2?i.splice(0,2).join(", ")+", ...":i.join(", "))+") }"}return t}return t}},function(e,t,n){"use strict";var o=Function.prototype.toString,r=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\s\(\/]+)/;e.exports=function(e){if("function"!=typeof e)return null;var t="";if(void 0===Function.prototype.name&&void 0===e.name){var n=o.call(e).match(r);n&&(t=n[1])}else t=e.name;return t}},function(e,t){
/*!
 * Chai - getProperties utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e){var t=Object.getOwnPropertyNames(e);function n(e){-1===t.indexOf(e)&&t.push(e)}for(var o=Object.getPrototypeOf(e);null!==o;)Object.getOwnPropertyNames(o).forEach(n),o=Object.getPrototypeOf(o);return t}},function(e,t){
/*!
 * Chai - getOwnEnumerablePropertySymbols utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e){return"function"!=typeof Object.getOwnPropertySymbols?[]:Object.getOwnPropertySymbols(e).filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(11);o.__exportStar(n(20),t),o.__exportStar(n(46),t),o.__exportStar(n(51),t),o.__exportStar(n(52),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(4),r=n(5),i=o.JsonPointer.create;describe("JsonPointer",(function(){describe("when working with the example data from the rfc",(function(){const e={foo:["bar","baz"],"":0,"a/b":1,"c%d":2,"e^f":3,"g|h":4,"i\\j":5,'k"l':6," ":7,"m~n":8};describe("with a JSON pointer to the root ``",(function(){const t=i("");it("#get should resolve to the object itself",(function(){r.expect(t.get(e)).to.eql(e)})),it("#set should throw",(function(){r.expect((function(){t.set(e,{this:"should cause an exception"})})).to.throw()})),it("#unset should throw",(function(){r.expect((function(){t.unset(e)})).to.throw("Cannot unset the root object; assign it directly.")})),it("should have an empty path",(function(){r.expect(t.path).to.have.length(0)})),it("should have a pointer that is empty",(function(){r.expect(t.pointer).to.eql("")})),it("should have a URI fragment identifier that is empty",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#")}))})),describe("a URI fragment identifier to the root #",(function(){const t=i("#");it("#get should resolve to the object itself",(function(){r.expect(t.get(e)).to.eql(e)})),it("#set should throw",(function(){r.expect((function(){t.set(e,{this:"should cause an exception"})})).to.throw()})),it("should have an empty path",(function(){r.expect(t.path).to.have.length(0)})),it("should have a pointer that is empty",(function(){r.expect(t.pointer).to.eql("")})),it("should have a URI fragment identifier that is empty",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#")}))})),describe("with a JSON pointer of `/foo`",(function(){const t=i("/foo");it('#get should resolve to data["foo"]',(function(){r.expect(t.get(e)).to.eql(e.foo)})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "foo" ]',(function(){r.expect(t.path).to.eql(["foo"])})),it("should have the pointer `/foo`",(function(){r.expect(t.pointer).to.eql("/foo")})),it("should have the URI fragment identifier `#/foo`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/foo")}))})),describe("a URI fragment identifier of `#/foo`",(function(){const t=i("#/foo");it('#get should resolve to data["foo"]',(function(){r.expect(t.get(e)).to.eql(e.foo)})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "foo" ]',(function(){r.expect(t.path).to.eql(["foo"])})),it("should have the pointer `/foo`",(function(){r.expect(t.pointer).to.eql("/foo")})),it("should have the URI fragment identifier `#/foo`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/foo")}))})),describe("with a JSON pointer of `/foo/0`",(function(){const t=i("/foo/0");it("#get should resolve to data.foo[0]",(function(){r.expect(t.get(e)).to.eql(e.foo[0])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "foo", "0" ]',(function(){r.expect(t.path).to.eql(["foo","0"])})),it("should have the pointer `/foo/0`",(function(){r.expect(t.pointer).to.eql("/foo/0")})),it("should have the URI fragment identifier `#/foo/0`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/foo/0")}))})),describe("a URI fragment identifier of `#/foo/0`",(function(){const t=i("#/foo/0");it("#get should resolve to data.foo[0]",(function(){r.expect(t.get(e)).to.eql(e.foo[0])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "foo", "0" ]',(function(){r.expect(t.path).to.eql(["foo","0"])})),it("should have the pointer `/foo/0`",(function(){r.expect(t.pointer).to.eql("/foo/0")})),it("should have the URI fragment identifier `#/foo/0`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/foo/0")}))})),describe("a URI fragment identifier of `#/newArray/0`",(function(){const t=i("#/newArray/0");it("#get should resolve to undefined",(function(){r.expect(t.get(e)).to.eql(void 0)})),it("#set with force should succeed creating an array and setting the referenced value",(function(){const n={},o=t.get(e),i={this:"should succeed"};t.set(n,i,!0),r.expect(Array.isArray(n.newArray)).to.eql(!0),r.expect(t.get(n)).to.eql(i),t.set(n,o)})),it('should have a path of [ "newArray", "0" ]',(function(){r.expect(t.path).to.eql(["newArray","0"])})),it("should have the pointer `/newArray/0`",(function(){r.expect(t.pointer).to.eql("/newArray/0")})),it("should have the URI fragment identifier `#/newArray/0`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/newArray/0")}))})),describe("with a JSON pointer of `/`",(function(){const t=i("/");it('#get should resolve to data[""]',(function(){r.expect(t.get(e)).to.eql(e[""])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "" ]',(function(){r.expect(t.path).to.eql([""])})),it("should have the pointer `/`",(function(){r.expect(t.pointer).to.eql("/")})),it("should have the URI fragment identifier `#/`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/")}))})),describe("a URI fragment identifier of `#/`",(function(){const t=i("#/");it('#get should resolve to data[""]',(function(){r.expect(t.get(e)).to.eql(e[""])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "" ]',(function(){r.expect(t.path).to.eql([""])})),it("should have the pointer `/`",(function(){r.expect(t.pointer).to.eql("/")})),it("should have the URI fragment identifier `#/`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/")}))})),describe("with a JSON pointer of `/a~1b`",(function(){const t=i("/a~1b");it('#get should resolve to data["a/b"]',(function(){r.expect(t.get(e)).to.eql(e["a/b"])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "a/b" ]',(function(){r.expect(t.path).to.eql(["a/b"])})),it("should have the pointer `/a~1b`",(function(){r.expect(t.pointer).to.eql("/a~1b")})),it("should have the URI fragment identifier `#/a~1b`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/a~1b")}))})),describe("a URI fragment identifier of `#/a~1b`",(function(){const t=i("#/a~1b");it('#get should resolve to data["a/b"]',(function(){r.expect(t.get(e)).to.eql(e["a/b"])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "a/b" ]',(function(){r.expect(t.path).to.eql(["a/b"])})),it("should have the pointer `/a~1b`",(function(){r.expect(t.pointer).to.eql("/a~1b")})),it("should have the URI fragment identifier `#/a~1b`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/a~1b")}))})),describe("with a JSON pointer of `/c%d`",(function(){const t=i("/c%d");it('#get should resolve to data["c%d"]',(function(){r.expect(t.get(e)).to.eql(e["c%d"])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "c%d" ]',(function(){r.expect(t.path).to.eql(["c%d"])})),it("should have the pointer `/c%d`",(function(){r.expect(t.pointer).to.eql("/c%d")})),it("should have the URI fragment identifier `#/c%25d`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/c%25d")}))})),describe("a URI fragment identifier of `#/c%25d`",(function(){const t=i("#/c%25d");it('#get should resolve to data["c%d"]',(function(){r.expect(t.get(e)).to.eql(e["c%d"])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "c%d" ]',(function(){r.expect(t.path).to.eql(["c%d"])})),it("should have the pointer `/c%d`",(function(){r.expect(t.pointer).to.eql("/c%d")})),it("should have the URI fragment identifier `#/c%25d`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/c%25d")}))})),describe("with a JSON pointer of `/e^f`",(function(){const t=i("/e^f");it('#get should resolve to data["e^f"]',(function(){r.expect(t.get(e)).to.eql(e["e^f"])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "e^f" ]',(function(){r.expect(t.path).to.eql(["e^f"])})),it("should have the pointer `/e^f`",(function(){r.expect(t.pointer).to.eql("/e^f")})),it("should have the URI fragment identifier `#/e%5Ef`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/e%5Ef")}))})),describe("a URI fragment identifier of `#/e%5Ef`",(function(){const t=i("#/e%5Ef");it('#get should resolve to data["e^f"]',(function(){r.expect(t.get(e)).to.eql(e["e^f"])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "e^f" ]',(function(){r.expect(t.path).to.eql(["e^f"])})),it("should have the pointer `/e^f`",(function(){r.expect(t.pointer).to.eql("/e^f")})),it("should have the URI fragment identifier `#/e%5Ef`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/e%5Ef")}))})),describe("with a JSON pointer of `/g|h`",(function(){const t=i("/g|h");it('#get should resolve to data["g|h"]',(function(){r.expect(t.get(e)).to.eql(e["g|h"])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "g|h" ]',(function(){r.expect(t.path).to.eql(["g|h"])})),it("should have the pointer `/g|h`",(function(){r.expect(t.pointer).to.eql("/g|h")})),it("should have the URI fragment identifier `#/g%7Ch`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/g%7Ch")}))})),describe("a URI fragment identifier of `#/g%7Ch`",(function(){const t=i("#/g%7Ch");it('#get should resolve to data["g|h"]',(function(){r.expect(t.get(e)).to.eql(e["g|h"])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "g|h" ]',(function(){r.expect(t.path).to.eql(["g|h"])})),it("should have the pointer `/g|h`",(function(){r.expect(t.pointer).to.eql("/g|h")})),it("should have the URI fragment identifier `#/g%7Ch`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/g%7Ch")}))})),describe('with a JSON pointer of "/i\\j"',(function(){const t=i("/i\\j");it('#get should resolve to data["i\\j"]',(function(){r.expect(t.get(e)).to.eql(e["i\\j"])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "i\\j" ]',(function(){r.expect(t.path).to.eql(["i\\j"])})),it("should have the pointer `/i\\j`",(function(){r.expect(t.pointer).to.eql("/i\\j")})),it("should have the URI fragment identifier `#/i%5Cj`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/i%5Cj")}))})),describe("a URI fragment identifier of `#/i%5Cj`",(function(){const t=i("#/i%5Cj");it('#get should resolve to data["i\\j"]',(function(){r.expect(t.get(e)).to.eql(e["i\\j"])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "i\\j" ]',(function(){r.expect(t.path).to.eql(["i\\j"])})),it("should have the pointer `/i\\j`",(function(){r.expect(t.pointer).to.eql("/i\\j")})),it("should have the URI fragment identifier `#/i%5Cj`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/i%5Cj")}))})),describe("with a JSON pointer of '/k\\\"l'",(function(){const t=i('/k"l');it('#get should resolve to data["k"l"]',(function(){r.expect(t.get(e)).to.eql(e['k"l'])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "k"l" ]',(function(){r.expect(t.path).to.eql(['k"l'])})),it('should have the pointer `/k"l`',(function(){r.expect(t.pointer).to.eql('/k"l')})),it("should have the URI fragment identifier `#/k%22l`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/k%22l")}))})),describe("a URI fragment identifier of `#/k%22l`",(function(){const t=i("#/k%22l");it('#get should resolve to data["k"l"]',(function(){r.expect(t.get(e)).to.eql(e['k"l'])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "k"l" ]',(function(){r.expect(t.path).to.eql(['k"l'])})),it('should have the pointer `/k"l`',(function(){r.expect(t.pointer).to.eql('/k"l')})),it("should have the URI fragment identifier `#/k%22l`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/k%22l")}))})),describe("with a JSON pointer of `/ `",(function(){const t=i("/ ");it('#get should resolve to data[" "]',(function(){r.expect(t.get(e)).to.eql(e[" "])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ " " ]',(function(){r.expect(t.path).to.eql([" "])})),it("should have the pointer `/ `",(function(){r.expect(t.pointer).to.eql("/ ")})),it("should have the URI fragment identifier `#/%20`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/%20")}))})),describe("a URI fragment identifier of `#/%20`",(function(){const t=i("#/%20");it('#get should resolve to data[" "]',(function(){r.expect(t.get(e)).to.eql(e[" "])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ " " ]',(function(){r.expect(t.path).to.eql([" "])})),it("should have the pointer `/ `",(function(){r.expect(t.pointer).to.eql("/ ")})),it("should have the URI fragment identifier `#/%20`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/%20")}))})),describe("with a JSON pointer of `/m~0n`",(function(){const t=i("/m~0n");it('#get should resolve to data["m~n"]',(function(){r.expect(t.get(e)).to.eql(e["m~n"])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "m~n" ]',(function(){r.expect(t.path).to.eql(["m~n"])})),it("should have the pointer `/m~0n`",(function(){r.expect(t.pointer).to.eql("/m~0n")})),it("should have the URI fragment identifier `#/m~0n`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/m~0n")}))})),describe("a URI fragment identifier of `#/m~0n`",(function(){const t=i("#/m~0n");it('#get should resolve to data["m~n"]',(function(){r.expect(t.get(e)).to.eql(e["m~n"])})),it("#set should succeed changing the referenced value",(function(){const n=t.get(e),o={this:"should succeed"};t.set(e,o),r.expect(t.get(e)).to.eql(o),t.set(e,n)})),it('should have a path of [ "m~n" ]',(function(){r.expect(t.path).to.eql(["m~n"])})),it("should have the pointer `/m~0n`",(function(){r.expect(t.pointer).to.eql("/m~0n")})),it("should have the URI fragment identifier `#/m~0n`",(function(){r.expect(t.uriFragmentIdentifier).to.eql("#/m~0n")}))})),describe("a special array pointer from draft-ietf-appsawg-json-pointer-08 `/foo/-`",(function(){const t=i("/foo/-");it("should not resolve via #get",(function(){r.expect(t.get(e)).to.be.undefined})),it("should set the next element of the array, repeatedly...",(function(){t.set(e,"qux"),r.expect(e.foo[2]).to.eql("qux")})),it("...3",(function(){t.set(e,"quux"),r.expect(e.foo[3]).to.eql("quux")})),it("...4",(function(){t.set(e,"corge"),r.expect(e.foo[4]).to.eql("corge")})),it("...5",(function(){t.set(e,"grault"),r.expect(e.foo[5]).to.eql("grault")}))})),describe("an invalid pointer",(function(){it("should fail to parse",(function(){r.expect((function(){i("a/")})).to.throw()}))})),describe("an invalid URI fragment identifier",(function(){it("should fail to parse",(function(){r.expect((function(){i("#a")})).to.throw()}))}))})),describe("when working with complex data",(function(){const e={a:1,b:{c:2},d:{e:[{a:3},{b:4},{c:5}]},f:null,"http://schema.org/name":"Phillip"};it("#get should return `undefined` when the requested element is undefined (#/g/h)",(function(){const t=o.JsonPointer.get(e,"#/g/h");r.expect(t).to.be.undefined})),it("#get should return null when the requested element has a null value (#/f)",(function(){const t=o.JsonPointer.get(e,"#/f");r.expect(t).to.be.null})),it("#get should return the value of a prop named with multiple slahes (#/http:~1~1schema.org~1name)",(function(){const t=o.JsonPointer.get(e,"#/http:~1~1schema.org~1name");r.expect(t).to.eql("Phillip")})),it("#get should return the value of a prop named with multiple slahes (/http:~1~1schema.org~1name)",(function(){const t=o.JsonPointer.get(e,"/http:~1~1schema.org~1name");r.expect(t).to.eql("Phillip")})),it("#set should set the value of a prop named with multiple slahes (#/http:~1~1schema.org~1name)",(function(){o.JsonPointer.set(e,"#/http:~1~1schema.org~1name","Phil");const t=o.JsonPointer.get(e,"/http:~1~1schema.org~1name");r.expect(t).to.eql("Phil")})),it("#set should set the value of a prop named with multiple slahes (/http:~1~1schema.org~1name)",(function(){o.JsonPointer.set(e,"/http:~1~1schema.org~1name","Phil");const t=o.JsonPointer.get(e,"/http:~1~1schema.org~1name");r.expect(t).to.eql("Phil")}))})),describe('given an sequence of property names ["d", "e~f", "2"]',(function(){const e=["d","e~f","2"];it("#encodePointer should produce a pointer (/d/e~0f/2)",(function(){r.expect(o.encodePointer(e)).to.eql("/d/e~0f/2")})),it("#encodeUriFragmentIdentifier should produce a pointer (#/d/e~0f/2)",(function(){r.expect(o.encodeUriFragmentIdentifier(e)).to.eql("#/d/e~0f/2")}))})),describe("#list...",(function(){const e={a:1,b:{c:2},d:{e:[{a:3},{b:4},{c:5}]},f:null},t=[["",e],["/a",e.a],["/b",e.b],["/d",e.d],["/f",e.f],["/b/c",e.b.c],["/d/e",e.d.e],["/d/e/0",e.d.e[0]],["/d/e/1",e.d.e[1]],["/d/e/2",e.d.e[2]],["/d/e/0/a",e.d.e[0].a],["/d/e/1/b",e.d.e[1].b],["/d/e/2/c",e.d.e[2].c]],n=[["#",e],["#/a",e.a],["#/b",e.b],["#/d",e.d],["#/f",e.f],["#/b/c",e.b.c],["#/d/e",e.d.e],["#/d/e/0",e.d.e[0]],["#/d/e/1",e.d.e[1]],["#/d/e/2",e.d.e[2]],["#/d/e/0/a",e.d.e[0].a],["#/d/e/1/b",e.d.e[1].b],["#/d/e/2/c",e.d.e[2].c]];describe("listPointers(target)",(function(){const n=o.JsonPointer.listPointers(e);t.forEach((function(e,t){it(`item ${t} has pointer ${e[0]}`,()=>{r.expect(n[t].pointer).to.eql(e[0])}),it(`item ${t} has value ${e[1]}`,()=>{r.expect(n[t].value).to.eql(e[1])})}))})),describe("listFragmentIds(target)",(function(){const t=o.JsonPointer.listFragmentIds(e);n.forEach((function(e,n){it(`item ${n} has fragmentId ${e[0]}`,()=>{r.expect(t[n].fragmentId).to.eql(e[0])}),it(`item ${n} has value ${e[1]}`,()=>{r.expect(t[n].value).to.eql(e[1])})}))}))}))})),describe("when data contains an array early in the path",(function(){const e={foo:[]};it("#set(o, val, true) should create the path through the array #/foo/0/wilbur/idiocies",(function(){const t=i("#/foo/0/wilbur/idiocies");t.set(e,5,!0),r.expect(t.get(e)).to.eql(5)}))})),describe("concat pointers",(function(){const e=i("/a/b"),t=i("/c/d"),n="/a/b/c/d";it('#concat JsonPointer("/a/b") with array ["a", "b"] should produce '+n,(function(){r.expect(e.concat(Array.from(t.path)).pointer).to.eql(n)})),it('#concat JsonPointer("/a/b") with JsonPointer("/b/c") should produce '+n,(function(){r.expect(e.concat(t).pointer).to.eql(n)})),it('#concat JsonPointer("/a/b") with string "/b/c" should produce '+n,(function(){r.expect(e.concat(t.pointer).pointer).to.eql(n)})),it('#concat JsonPointer("/a/b") with string "#/b/c" should produce '+n,(function(){r.expect(e.concat(t.uriFragmentIdentifier).toString()).to.eql(n)}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonReference=t.JsonPointer=void 0;const o=n(12);function r(e){return"object"==typeof e&&null!==e}function i(e){return r(e)&&!d.isReference(e)}function s(e,t,n){const s=new Map,a=[{obj:e,path:[]}];for(;a.length;){const{obj:e,path:c}=a.shift();if(t(n(c),e),i(e))if(s.set(e,new f(o.encodeUriFragmentIdentifier(c))),Array.isArray(e)){let t=-1;const n=e.length;for(;++t<n;){const n=e[t];r(n)&&s.has(n)?a.push({obj:new d(s.get(n)),path:c.concat([t+""])}):a.push({obj:n,path:c.concat([t+""])})}}else{const t=Object.keys(e),n=t.length;let o=-1;for(;++o<n;){const n=e[t[o]];r(n)&&s.has(n)?a.push({obj:new d(s.get(n)),path:c.concat(t[o])}):a.push({obj:n,path:c.concat(t[o])})}}}}const a=Symbol("pointer"),c=Symbol("fragmentId"),u=Symbol("getter");class f{constructor(e){this.path=o.decodePtrInit(e)}static create(e){return new f(e)}static has(e,t){return("string"==typeof t||Array.isArray(t))&&(t=new f(t)),t.has(e)}static get(e,t){return("string"==typeof t||Array.isArray(t))&&(t=new f(t)),t.get(e)}static set(e,t,n,o=!1){return("string"==typeof t||Array.isArray(t))&&(t=new f(t)),t.set(e,n,o)}static unset(e,t){return("string"==typeof t||Array.isArray(t))&&(t=new f(t)),t.unset(e)}static decode(e){return o.pickDecoder(e)(e)}static visit(e,t,n=!1){s(e,t,n?o.encodeUriFragmentIdentifier:o.encodePointer)}static listPointers(e){const t=[];return s(e,(e,n)=>{t.push({pointer:e,value:n})},o.encodePointer),t}static listFragmentIds(e){const t=[];return s(e,(e,n)=>{t.push({fragmentId:e,value:n})},o.encodeUriFragmentIdentifier),t}static flatten(e,t=!1){const n={};return s(e,(e,t)=>{n[e]=t},t?o.encodeUriFragmentIdentifier:o.encodePointer),n}static map(e,t=!1){const n=new Map;return s(e,n.set.bind(n),t?o.encodeUriFragmentIdentifier:o.encodePointer),n}get(e){return this[u]||(this[u]=o.compilePointerDereference(this.path)),this[u](e)}set(e,t,n=!1){return o.setValueAtPath(e,t,this.path,n)}unset(e){return o.unsetValueAtPath(e,this.path)}has(e){return void 0!==this.get(e)}concat(e){return new f(this.path.concat(e instanceof f?e.path:o.decodePtrInit(e)))}get pointer(){return void 0===this[a]&&(this[a]=o.encodePointer(this.path)),this[a]}get uriFragmentIdentifier(){return this[c]||(this[c]=o.encodeUriFragmentIdentifier(this.path)),this[c]}toString(){return this.pointer}}t.JsonPointer=f;const l=Symbol("pointer");class d{constructor(e){this[l]=e instanceof f?e:new f(e),this.$ref=this[l].uriFragmentIdentifier}static isReference(e){if(!e)return!1;const t=e;return"string"==typeof t.$ref&&"function"==typeof t.resolve}resolve(e){return this[l].get(e)}pointer(){return this[l]}toString(){return this.$ref}}t.JsonReference=d},function(e,t,n){
/*!
 * chai
 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Dependencies that are used for multiple exports are required here only once
 */
var o=n(24);
/*!
 * test utility
 */t.test=n(25),
/*!
 * type utility
 */
t.type=n(9),
/*!
 * expectTypes utility
 */
t.expectTypes=n(27),
/*!
 * message utility
 */
t.getMessage=n(28),
/*!
 * actual utility
 */
t.getActual=n(14),
/*!
 * Inspect util
 */
t.inspect=n(10),
/*!
 * Object Display util
 */
t.objDisplay=n(15),
/*!
 * Flag utility
 */
t.flag=n(0),
/*!
 * Flag transferring utility
 */
t.transferFlags=n(2),
/*!
 * Deep equal utility
 */
t.eql=n(30),
/*!
 * Deep path info
 */
t.getPathInfo=o.getPathInfo,
/*!
 * Check if a property exists
 */
t.hasProperty=o.hasProperty,
/*!
 * Function name
 */
t.getName=n(16),
/*!
 * add Property
 */
t.addProperty=n(31),
/*!
 * add Method
 */
t.addMethod=n(32),
/*!
 * overwrite Property
 */
t.overwriteProperty=n(33),
/*!
 * overwrite Method
 */
t.overwriteMethod=n(34),
/*!
 * Add a chainable method
 */
t.addChainableMethod=n(35),
/*!
 * Overwrite chainable method
 */
t.overwriteChainableMethod=n(36),
/*!
 * Compare by inspect method
 */
t.compareByInspect=n(37),
/*!
 * Get own enumerable property symbols method
 */
t.getOwnEnumerablePropertySymbols=n(18),
/*!
 * Get own enumerable properties method
 */
t.getOwnEnumerableProperties=n(38),
/*!
 * Checks error against a given set of criteria
 */
t.checkError=n(39),
/*!
 * Proxify util
 */
t.proxify=n(8),
/*!
 * addLengthGuard util
 */
t.addLengthGuard=n(7),
/*!
 * isProxyEnabled helper
 */
t.isProxyEnabled=n(6),
/*!
 * isNaN method
 */
t.isNaN=n(40)},function(e,t,n){"use strict";function o(e,t){return null!=e&&t in Object(e)}function r(e){return e.replace(/([^\\])\[/g,"$1.[").match(/(\\\.|[^.]+?)+/g).map((function(e){var t=/^\[(\d+)\]$/.exec(e);return t?{i:parseFloat(t[1])}:{p:e.replace(/\\([.\[\]])/g,"$1")}}))}function i(e,t,n){var o=e,r=null;n=void 0===n?t.length:n;for(var i=0;i<n;i++){var s=t[i];o&&(o=void 0===s.p?o[s.i]:o[s.p],i===n-1&&(r=o))}return r}function s(e,t){var n=r(t),s=n[n.length-1],a={parent:n.length>1?i(e,n,n.length-1):e,name:s.p||s.i,value:i(e,n)};return a.exists=o(a.parent,a.name),a}e.exports={hasProperty:o,getPathInfo:s,getPathValue:function(e,t){return s(e,t).value},setPathValue:function(e,t,n){return function(e,t,n){for(var o=e,r=n.length,i=null,s=0;s<r;s++){var a=null,c=null;if(i=n[s],s===r-1)o[a=void 0===i.p?i.i:i.p]=t;else if(void 0!==i.p&&o[i.p])o=o[i.p];else if(void 0!==i.i&&o[i.i])o=o[i.i];else{var u=n[s+1];a=void 0===i.p?i.i:i.p,c=void 0===u.p?[]:{},o[a]=c,o=o[a]}}}(e,n,r(t)),e}}},function(e,t,n){
/*!
 * Chai - test utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var o=n(0);e.exports=function(e,t){var n=o(e,"negate"),r=t[0];return n?!r:r}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){
/*!
 * Chai - expectTypes utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(13),r=n(0),i=n(9);e.exports=function(e,t){var n=r(e,"message"),s=r(e,"ssfi");n=n?n+": ":"",e=r(e,"object"),(t=t.map((function(e){return e.toLowerCase()}))).sort();var a=t.map((function(e,n){var o=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an":"a";return(t.length>1&&n===t.length-1?"or ":"")+o+" "+e})).join(", "),c=i(e).toLowerCase();if(!t.some((function(e){return c===e})))throw new o(n+"object tested must be "+a+", but "+c+" given",void 0,s)}},function(e,t,n){
/*!
 * Chai - message composition utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var o=n(0),r=n(14),i=n(15);e.exports=function(e,t){var n=o(e,"negate"),s=o(e,"object"),a=t[3],c=r(e,t),u=n?t[2]:t[1],f=o(e,"message");return"function"==typeof u&&(u=u()),u=(u=u||"").replace(/#\{this\}/g,(function(){return i(s)})).replace(/#\{act\}/g,(function(){return i(c)})).replace(/#\{exp\}/g,(function(){return i(a)})),f?f+": "+u:u}},function(e,t){
/*!
 * Chai - getEnumerableProperties utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e){var t=[];for(var n in e)t.push(n);return t}},function(e,t,n){"use strict";
/*!
 * deep-eql
 * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */var o=n(9);function r(){this._key="chai/deep-eql__"+Math.random()+Date.now()}r.prototype={get:function(e){return e[this._key]},set:function(e,t){Object.isExtensible(e)&&Object.defineProperty(e,this._key,{value:t,configurable:!0})}};var i="function"==typeof WeakMap?WeakMap:r;
/*!
 * Check to see if the MemoizeMap has recorded a result of the two operands
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @returns {Boolean|null} result
*/function s(e,t,n){if(!n||y(e)||y(t))return null;var o=n.get(e);if(o){var r=o.get(t);if("boolean"==typeof r)return r}return null}
/*!
 * Set the result of the equality into the MemoizeMap
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {MemoizeMap} memoizeMap
 * @param {Boolean} result
*/function a(e,t,n,o){if(n&&!y(e)&&!y(t)){var r=n.get(e);r?r.set(t,o):((r=new i).set(t,o),n.set(e,r))}}
/*!
 * Primary Export
 */function c(e,t,n){if(n&&n.comparator)return f(e,t,n);var o=u(e,t);return null!==o?o:f(e,t,n)}function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t||!y(e)&&!y(t)&&null}
/*!
 * The main logic of the `deepEqual` function.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (optional) Additional options
 * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
 * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
    references to blow the stack.
 * @return {Boolean} equal match
*/function f(e,t,n){(n=n||{}).memoize=!1!==n.memoize&&(n.memoize||new i);var r=n&&n.comparator,f=s(e,t,n.memoize);if(null!==f)return f;var y=s(t,e,n.memoize);if(null!==y)return y;if(r){var b=r(e,t);if(!1===b||!0===b)return a(e,t,n.memoize,b),b;var m=u(e,t);if(null!==m)return m}var w=o(e);if(w!==o(t))return a(e,t,n.memoize,!1),!1;a(e,t,n.memoize,!0);var v=function(e,t,n,o){switch(n){case"String":case"Number":case"Boolean":case"Date":return c(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":case"Error":return e===t;case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return d(e,t,o);case"RegExp":
/*!
 * Compare two Regular Expressions for equality.
 *
 * @param {RegExp} leftHandOperand
 * @param {RegExp} rightHandOperand
 * @return {Boolean} result
 */
return function(e,t){return e.toString()===t.toString()}
/*!
 * Compare two Sets/Maps for equality. Faster than other equality functions.
 *
 * @param {Set} leftHandOperand
 * @param {Set} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */(e,t);case"Generator":
/*!
 * Simple equality for generator objects such as those returned by generator functions.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */
return function(e,t,n){return d(p(e),p(t),n)}
/*!
 * Determine if the given object has an @@iterator function.
 *
 * @param {Object} target
 * @return {Boolean} `true` if the object has an @@iterator function.
 */(e,t,o);case"DataView":return d(new Uint8Array(e.buffer),new Uint8Array(t.buffer),o);case"ArrayBuffer":return d(new Uint8Array(e),new Uint8Array(t),o);case"Set":case"Map":return l(e,t,o);default:
/*!
 * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
 * for each enumerable key in the object.
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */
return function(e,t,n){var o=g(e),r=g(t);if(o.length&&o.length===r.length)return o.sort(),r.sort(),!1!==d(o,r)&&
/*!
 * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
 * each key. If any value of the given key is not equal, the function will return false (early).
 *
 * @param {Mixed} leftHandOperand
 * @param {Mixed} rightHandOperand
 * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */
function(e,t,n,o){var r=n.length;if(0===r)return!0;for(var i=0;i<r;i+=1)if(!1===c(e[n[i]],t[n[i]],o))return!1;return!0}(e,t,o,n);var i=h(e),s=h(t);if(i.length&&i.length===s.length)return i.sort(),s.sort(),d(i,s,n);if(0===o.length&&0===i.length&&0===r.length&&0===s.length)return!0;return!1}
/*!
 * Returns true if the argument is a primitive.
 *
 * This intentionally returns true for all objects that can be compared by reference,
 * including functions and symbols.
 *
 * @param {Mixed} value
 * @return {Boolean} result
 */(e,t,o)}}(e,t,w,n);return a(e,t,n.memoize,v),v}function l(e,t,n){if(e.size!==t.size)return!1;if(0===e.size)return!0;var o=[],r=[];return e.forEach((function(e,t){o.push([e,t])})),t.forEach((function(e,t){r.push([e,t])})),d(o.sort(),r.sort(),n)}
/*!
 * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
 *
 * @param {Iterable} leftHandOperand
 * @param {Iterable} rightHandOperand
 * @param {Object} [options] (Optional)
 * @return {Boolean} result
 */function d(e,t,n){var o=e.length;if(o!==t.length)return!1;if(0===o)return!0;for(var r=-1;++r<o;)if(!1===c(e[r],t[r],n))return!1;return!0}
/*!
 * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
 * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
 *
 * @param {Object} target
 * @returns {Array} an array of entries from the @@iterator function
 */
function h(e){if(function(e){return"undefined"!=typeof Symbol&&"object"==typeof e&&void 0!==Symbol.iterator&&"function"==typeof e[Symbol.iterator]}(e))try{return p(e[Symbol.iterator]())}catch(e){return[]}return[]}
/*!
 * Gets all entries from a Generator. This will consume the generator - which could have side effects.
 *
 * @param {Generator} target
 * @returns {Array} an array of entries from the Generator.
 */function p(e){for(var t=e.next(),n=[t.value];!1===t.done;)t=e.next(),n.push(t.value);return n}
/*!
 * Gets all own and inherited enumerable keys from a target.
 *
 * @param {Object} target
 * @returns {Array} an array of own and inherited enumerable keys from the target.
 */function g(e){var t=[];for(var n in e)t.push(n);return t}function y(e){return null===e||"object"!=typeof e}e.exports=c,e.exports.MemoizeMap=i},function(e,t,n){
/*!
 * Chai - addProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(1),r=n(0),i=n(6),s=n(2);e.exports=function(e,t,n){n=void 0===n?function(){}:n,Object.defineProperty(e,t,{get:function e(){i()||r(this,"lockSsfi")||r(this,"ssfi",e);var t=n.call(this);if(void 0!==t)return t;var a=new o.Assertion;return s(this,a),a},configurable:!0})}},function(e,t,n){
/*!
 * Chai - addMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(7),r=n(1),i=n(0),s=n(8),a=n(2);e.exports=function(e,t,n){var c=function(){i(this,"lockSsfi")||i(this,"ssfi",c);var e=n.apply(this,arguments);if(void 0!==e)return e;var t=new r.Assertion;return a(this,t),t};o(c,t,!1),e[t]=s(c,t)}},function(e,t,n){
/*!
 * Chai - overwriteProperty utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(1),r=n(0),i=n(6),s=n(2);e.exports=function(e,t,n){var a=Object.getOwnPropertyDescriptor(e,t),c=function(){};a&&"function"==typeof a.get&&(c=a.get),Object.defineProperty(e,t,{get:function e(){i()||r(this,"lockSsfi")||r(this,"ssfi",e);var t=r(this,"lockSsfi");r(this,"lockSsfi",!0);var a=n(c).call(this);if(r(this,"lockSsfi",t),void 0!==a)return a;var u=new o.Assertion;return s(this,u),u},configurable:!0})}},function(e,t,n){
/*!
 * Chai - overwriteMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(7),r=n(1),i=n(0),s=n(8),a=n(2);e.exports=function(e,t,n){var c=e[t],u=function(){throw new Error(t+" is not a function")};c&&"function"==typeof c&&(u=c);var f=function(){i(this,"lockSsfi")||i(this,"ssfi",f);var e=i(this,"lockSsfi");i(this,"lockSsfi",!0);var t=n(u).apply(this,arguments);if(i(this,"lockSsfi",e),void 0!==t)return t;var o=new r.Assertion;return a(this,o),o};o(f,t,!1),e[t]=s(f,t)}},function(e,t,n){
/*!
 * Chai - addChainingMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var o=n(7),r=n(1),i=n(0),s=n(8),a=n(2),c="function"==typeof Object.setPrototypeOf,u=function(){},f=Object.getOwnPropertyNames(u).filter((function(e){var t=Object.getOwnPropertyDescriptor(u,e);return"object"!=typeof t||!t.configurable})),l=Function.prototype.call,d=Function.prototype.apply;e.exports=function(e,t,n,u){"function"!=typeof u&&(u=function(){});var h={method:n,chainingBehavior:u};e.__methods||(e.__methods={}),e.__methods[t]=h,Object.defineProperty(e,t,{get:function(){h.chainingBehavior.call(this);var n=function(){i(this,"lockSsfi")||i(this,"ssfi",n);var e=h.method.apply(this,arguments);if(void 0!==e)return e;var t=new r.Assertion;return a(this,t),t};if(o(n,t,!0),c){var u=Object.create(this);u.call=l,u.apply=d,Object.setPrototypeOf(n,u)}else{Object.getOwnPropertyNames(e).forEach((function(t){if(-1===f.indexOf(t)){var o=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,o)}}))}return a(this,n),s(n)},configurable:!0})}},function(e,t,n){
/*!
 * Chai - overwriteChainableMethod utility
 * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(1),r=n(2);e.exports=function(e,t,n,i){var s=e.__methods[t],a=s.chainingBehavior;s.chainingBehavior=function(){var e=i(a).call(this);if(void 0!==e)return e;var t=new o.Assertion;return r(this,t),t};var c=s.method;s.method=function(){var e=n(c).apply(this,arguments);if(void 0!==e)return e;var t=new o.Assertion;return r(this,t),t}}},function(e,t,n){
/*!
 * Chai - compareByInspect utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var o=n(10);e.exports=function(e,t){return o(e)<o(t)?-1:1}},function(e,t,n){
/*!
 * Chai - getOwnEnumerableProperties utility
 * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
/*!
 * Module dependencies
 */
var o=n(18);e.exports=function(e){return Object.keys(e).concat(o(e))}},function(e,t,n){"use strict";var o=/\s*function(?:\s|\s*\/\*[^(?:*\/)]+\*\/\s*)*([^\(\/]+)/;function r(e){var t="";if(void 0===e.name){var n=String(e).match(o);n&&(t=n[1])}else t=e.name;return t}e.exports={compatibleInstance:function(e,t){return t instanceof Error&&e===t},compatibleConstructor:function(e,t){return t instanceof Error?e.constructor===t.constructor||e instanceof t.constructor:(t.prototype instanceof Error||t===Error)&&(e.constructor===t||e instanceof t)},compatibleMessage:function(e,t){var n="string"==typeof e?e:e.message;return t instanceof RegExp?t.test(n):"string"==typeof t&&-1!==n.indexOf(t)},getMessage:function(e){var t="";return e&&e.message?t=e.message:"string"==typeof e&&(t=e),t},getConstructorName:function(e){var t=e;return e instanceof Error?t=r(e.constructor):"function"==typeof e&&(t=r(e).trim()||r(new e)),t}}},function(e,t){e.exports=Number.isNaN||
/*!
 * Chai - isNaN utility
 * Copyright(c) 2012-2015 Sakthipriyan Vairamani <thechargingvolcano@gmail.com>
 * MIT Licensed
 */
function(e){return e!=e}},function(e,t,n){
/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var o=n(3);e.exports=function(e,t){
/*!
   * Module dependencies.
   */
var n=e.AssertionError,r=t.flag;
/*!
   * Module export.
   */
/*!
   * Assertion Constructor
   *
   * Creates object for chaining.
   *
   * `Assertion` objects contain metadata in the form of flags. Three flags can
   * be assigned during instantiation by passing arguments to this constructor:
   *
   * - `object`: This flag contains the target of the assertion. For example, in
   *   the assertion `expect(numKittens).to.equal(7);`, the `object` flag will
   *   contain `numKittens` so that the `equal` assertion can reference it when
   *   needed.
   *
   * - `message`: This flag contains an optional custom error message to be
   *   prepended to the error message that's generated by the assertion when it
   *   fails.
   *
   * - `ssfi`: This flag stands for "start stack function indicator". It
   *   contains a function reference that serves as the starting point for
   *   removing frames from the stack trace of the error that's created by the
   *   assertion when it fails. The goal is to provide a cleaner stack trace to
   *   end users by removing Chai's internal functions. Note that it only works
   *   in environments that support `Error.captureStackTrace`, and only when
   *   `Chai.config.includeStack` hasn't been set to `false`.
   *
   * - `lockSsfi`: This flag controls whether or not the given `ssfi` flag
   *   should retain its current value, even as assertions are chained off of
   *   this object. This is usually set to `true` when creating a new assertion
   *   from within another assertion. It's also temporarily set to `true` before
   *   an overwritten assertion gets called by the overwriting assertion.
   *
   * @param {Mixed} obj target of the assertion
   * @param {String} msg (optional) custom error message
   * @param {Function} ssfi (optional) starting point for removing stack frames
   * @param {Boolean} lockSsfi (optional) whether or not the ssfi flag is locked
   * @api private
   */
function i(e,n,o,s){return r(this,"ssfi",o||i),r(this,"lockSsfi",s),r(this,"object",e),r(this,"message",n),t.proxify(this)}e.Assertion=i,Object.defineProperty(i,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),o.includeStack},set:function(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),o.includeStack=e}}),Object.defineProperty(i,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),o.showDiff},set:function(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),o.showDiff=e}}),i.addProperty=function(e,n){t.addProperty(this.prototype,e,n)},i.addMethod=function(e,n){t.addMethod(this.prototype,e,n)},i.addChainableMethod=function(e,n,o){t.addChainableMethod(this.prototype,e,n,o)},i.overwriteProperty=function(e,n){t.overwriteProperty(this.prototype,e,n)},i.overwriteMethod=function(e,n){t.overwriteMethod(this.prototype,e,n)},i.overwriteChainableMethod=function(e,n,o){t.overwriteChainableMethod(this.prototype,e,n,o)},i.prototype.assert=function(e,i,s,a,c,u){var f=t.test(this,arguments);if(!1!==u&&(u=!0),void 0===a&&void 0===c&&(u=!1),!0!==o.showDiff&&(u=!1),!f){i=t.getMessage(this,arguments);var l=t.getActual(this,arguments);throw new n(i,{actual:l,expected:a,showDiff:u},o.includeStack?this.assert:r(this,"ssfi"))}},
/*!
   * ### ._obj
   *
   * Quick reference to stored `actual` value for plugin developers.
   *
   * @api private
   */
Object.defineProperty(i.prototype,"_obj",{get:function(){return r(this,"object")},set:function(e){r(this,"object",e)}})}},function(e,t){
/*!
 * chai
 * http://chaijs.com
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){var n=e.Assertion,o=e.AssertionError,r=t.flag;function i(e,n){n&&r(this,"message",n),e=e.toLowerCase();var o=r(this,"object"),i=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";this.assert(e===t.type(o).toLowerCase(),"expected #{this} to be "+i+e,"expected #{this} not to be "+i+e)}function s(e,n){return t.isNaN(e)&&t.isNaN(n)||e===n}function a(){r(this,"contains",!0)}function c(e,i){i&&r(this,"message",i);var a=r(this,"object"),c=t.type(a).toLowerCase(),u=r(this,"message"),f=r(this,"negate"),l=r(this,"ssfi"),d=r(this,"deep"),h=d?"deep ":"";u=u?u+": ":"";var p=!1;switch(c){case"string":p=-1!==a.indexOf(e);break;case"weakset":if(d)throw new o(u+"unable to use .deep.include with WeakSet",void 0,l);p=a.has(e);break;case"map":var g=d?t.eql:s;a.forEach((function(t){p=p||g(t,e)}));break;case"set":d?a.forEach((function(n){p=p||t.eql(n,e)})):p=a.has(e);break;case"array":p=d?a.some((function(n){return t.eql(n,e)})):-1!==a.indexOf(e);break;default:if(e!==Object(e))throw new o(u+"object tested must be an array, a map, an object, a set, a string, or a weakset, but "+c+" given",void 0,l);var y=Object.keys(e),b=null,m=0;if(y.forEach((function(i){var s=new n(a);if(t.transferFlags(this,s,!0),r(s,"lockSsfi",!0),f&&1!==y.length)try{s.property(i,e[i])}catch(e){if(!t.checkError.compatibleConstructor(e,o))throw e;null===b&&(b=e),m++}else s.property(i,e[i])}),this),f&&y.length>1&&m===y.length)throw b;return}this.assert(p,"expected #{this} to "+h+"include "+t.inspect(e),"expected #{this} to not "+h+"include "+t.inspect(e))}function u(){var e=r(this,"object"),n=t.type(e);this.assert("Arguments"===n,"expected #{this} to be arguments but got "+n,"expected #{this} to not be arguments")}function f(e,t){t&&r(this,"message",t);var n=r(this,"object");if(r(this,"deep")){var o=r(this,"lockSsfi");r(this,"lockSsfi",!0),this.eql(e),r(this,"lockSsfi",o)}else this.assert(e===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}function l(e,n){n&&r(this,"message",n),this.assert(t.eql(e,r(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}function d(e,i){i&&r(this,"message",i);var s,a=r(this,"object"),c=r(this,"doLength"),u=r(this,"message"),f=u?u+": ":"",l=r(this,"ssfi"),d=t.type(a).toLowerCase(),h=t.type(e).toLowerCase(),p=!0;if(c&&"map"!==d&&"set"!==d&&new n(a,u,l,!0).to.have.property("length"),c||"date"!==d||"date"===h)if("number"===h||!c&&"number"!==d)if(c||"date"===d||"number"===d)p=!1;else{s=f+"expected "+("string"===d?"'"+a+"'":a)+" to be a number or a date"}else s=f+"the argument to above must be a number";else s=f+"the argument to above must be a date";if(p)throw new o(s,void 0,l);if(c){var g,y="length";"map"===d||"set"===d?(y="size",g=a.size):g=a.length,this.assert(g>e,"expected #{this} to have a "+y+" above #{exp} but got #{act}","expected #{this} to not have a "+y+" above #{exp}",e,g)}else this.assert(a>e,"expected #{this} to be above #{exp}","expected #{this} to be at most #{exp}",e)}function h(e,i){i&&r(this,"message",i);var s,a=r(this,"object"),c=r(this,"doLength"),u=r(this,"message"),f=u?u+": ":"",l=r(this,"ssfi"),d=t.type(a).toLowerCase(),h=t.type(e).toLowerCase(),p=!0;if(c&&"map"!==d&&"set"!==d&&new n(a,u,l,!0).to.have.property("length"),c||"date"!==d||"date"===h)if("number"===h||!c&&"number"!==d)if(c||"date"===d||"number"===d)p=!1;else{s=f+"expected "+("string"===d?"'"+a+"'":a)+" to be a number or a date"}else s=f+"the argument to least must be a number";else s=f+"the argument to least must be a date";if(p)throw new o(s,void 0,l);if(c){var g,y="length";"map"===d||"set"===d?(y="size",g=a.size):g=a.length,this.assert(g>=e,"expected #{this} to have a "+y+" at least #{exp} but got #{act}","expected #{this} to have a "+y+" below #{exp}",e,g)}else this.assert(a>=e,"expected #{this} to be at least #{exp}","expected #{this} to be below #{exp}",e)}function p(e,i){i&&r(this,"message",i);var s,a=r(this,"object"),c=r(this,"doLength"),u=r(this,"message"),f=u?u+": ":"",l=r(this,"ssfi"),d=t.type(a).toLowerCase(),h=t.type(e).toLowerCase(),p=!0;if(c&&"map"!==d&&"set"!==d&&new n(a,u,l,!0).to.have.property("length"),c||"date"!==d||"date"===h)if("number"===h||!c&&"number"!==d)if(c||"date"===d||"number"===d)p=!1;else{s=f+"expected "+("string"===d?"'"+a+"'":a)+" to be a number or a date"}else s=f+"the argument to below must be a number";else s=f+"the argument to below must be a date";if(p)throw new o(s,void 0,l);if(c){var g,y="length";"map"===d||"set"===d?(y="size",g=a.size):g=a.length,this.assert(g<e,"expected #{this} to have a "+y+" below #{exp} but got #{act}","expected #{this} to not have a "+y+" below #{exp}",e,g)}else this.assert(a<e,"expected #{this} to be below #{exp}","expected #{this} to be at least #{exp}",e)}function g(e,i){i&&r(this,"message",i);var s,a=r(this,"object"),c=r(this,"doLength"),u=r(this,"message"),f=u?u+": ":"",l=r(this,"ssfi"),d=t.type(a).toLowerCase(),h=t.type(e).toLowerCase(),p=!0;if(c&&"map"!==d&&"set"!==d&&new n(a,u,l,!0).to.have.property("length"),c||"date"!==d||"date"===h)if("number"===h||!c&&"number"!==d)if(c||"date"===d||"number"===d)p=!1;else{s=f+"expected "+("string"===d?"'"+a+"'":a)+" to be a number or a date"}else s=f+"the argument to most must be a number";else s=f+"the argument to most must be a date";if(p)throw new o(s,void 0,l);if(c){var g,y="length";"map"===d||"set"===d?(y="size",g=a.size):g=a.length,this.assert(g<=e,"expected #{this} to have a "+y+" at most #{exp} but got #{act}","expected #{this} to have a "+y+" above #{exp}",e,g)}else this.assert(a<=e,"expected #{this} to be at most #{exp}","expected #{this} to be above #{exp}",e)}function y(e,n){n&&r(this,"message",n);var i=r(this,"object"),s=r(this,"ssfi"),a=r(this,"message");try{var c=i instanceof e}catch(n){if(n instanceof TypeError)throw new o((a=a?a+": ":"")+"The instanceof assertion needs a constructor but "+t.type(e)+" was given.",void 0,s);throw n}var u=t.getName(e);null===u&&(u="an unnamed constructor"),this.assert(c,"expected #{this} to be an instance of "+u,"expected #{this} to not be an instance of "+u)}function b(e,n,i){i&&r(this,"message",i);var s=r(this,"nested"),a=r(this,"own"),c=r(this,"message"),u=r(this,"object"),f=r(this,"ssfi"),l=typeof e;if(c=c?c+": ":"",s){if("string"!==l)throw new o(c+"the argument to property must be a string when using nested syntax",void 0,f)}else if("string"!==l&&"number"!==l&&"symbol"!==l)throw new o(c+"the argument to property must be a string, number, or symbol",void 0,f);if(s&&a)throw new o(c+'The "nested" and "own" flags cannot be combined.',void 0,f);if(null==u)throw new o(c+"Target cannot be null or undefined.",void 0,f);var d,h=r(this,"deep"),p=r(this,"negate"),g=s?t.getPathInfo(u,e):null,y=s?g.value:u[e],b="";h&&(b+="deep "),a&&(b+="own "),s&&(b+="nested "),b+="property ",d=a?Object.prototype.hasOwnProperty.call(u,e):s?g.exists:t.hasProperty(u,e),p&&1!==arguments.length||this.assert(d,"expected #{this} to have "+b+t.inspect(e),"expected #{this} to not have "+b+t.inspect(e)),arguments.length>1&&this.assert(d&&(h?t.eql(n,y):n===y),"expected #{this} to have "+b+t.inspect(e)+" of #{exp}, but got #{act}","expected #{this} to not have "+b+t.inspect(e)+" of #{act}",n,y),r(this,"object",y)}function m(e,t,n){r(this,"own",!0),b.apply(this,arguments)}function w(e,n,o){"string"==typeof n&&(o=n,n=null),o&&r(this,"message",o);var i=r(this,"object"),s=Object.getOwnPropertyDescriptor(Object(i),e);s&&n?this.assert(t.eql(n,s),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to match "+t.inspect(n)+", got "+t.inspect(s),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to not match "+t.inspect(n),n,s,!0):this.assert(s,"expected #{this} to have an own property descriptor for "+t.inspect(e),"expected #{this} to not have an own property descriptor for "+t.inspect(e)),r(this,"object",s)}function v(){r(this,"doLength",!0)}function x(e,o){o&&r(this,"message",o);var i,s=r(this,"object"),a=t.type(s).toLowerCase(),c=r(this,"message"),u=r(this,"ssfi"),f="length";switch(a){case"map":case"set":f="size",i=s.size;break;default:new n(s,c,u,!0).to.have.property("length"),i=s.length}this.assert(i==e,"expected #{this} to have a "+f+" of #{exp} but got #{act}","expected #{this} to not have a "+f+" of #{act}",e,i)}function O(e,t){t&&r(this,"message",t);var n=r(this,"object");this.assert(e.exec(n),"expected #{this} to match "+e,"expected #{this} not to match "+e)}function P(e){var n,i,s=r(this,"object"),a=t.type(s),c=t.type(e),u=r(this,"ssfi"),f=r(this,"deep"),l="",d=!0,h=r(this,"message"),p=(h=h?h+": ":"")+"when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments";if("Map"===a||"Set"===a)l=f?"deeply ":"",i=[],s.forEach((function(e,t){i.push(t)})),"Array"!==c&&(e=Array.prototype.slice.call(arguments));else{switch(i=t.getOwnEnumerableProperties(s),c){case"Array":if(arguments.length>1)throw new o(p,void 0,u);break;case"Object":if(arguments.length>1)throw new o(p,void 0,u);e=Object.keys(e);break;default:e=Array.prototype.slice.call(arguments)}e=e.map((function(e){return"symbol"==typeof e?e:String(e)}))}if(!e.length)throw new o(h+"keys required",void 0,u);var g=e.length,y=r(this,"any"),b=r(this,"all"),m=e;if(y||b||(b=!0),y&&(d=m.some((function(e){return i.some((function(n){return f?t.eql(e,n):e===n}))}))),b&&(d=m.every((function(e){return i.some((function(n){return f?t.eql(e,n):e===n}))})),r(this,"contains")||(d=d&&e.length==i.length)),g>1){var w=(e=e.map((function(e){return t.inspect(e)}))).pop();b&&(n=e.join(", ")+", and "+w),y&&(n=e.join(", ")+", or "+w)}else n=t.inspect(e[0]);n=(g>1?"keys ":"key ")+n,n=(r(this,"contains")?"contain ":"have ")+n,this.assert(d,"expected #{this} to "+l+n,"expected #{this} to not "+l+n,m.slice(0).sort(t.compareByInspect),i.sort(t.compareByInspect),!0)}function j(e,o,i){i&&r(this,"message",i);var s,a=r(this,"object"),c=r(this,"ssfi"),u=r(this,"message"),f=r(this,"negate")||!1;new n(a,u,c,!0).is.a("function"),(e instanceof RegExp||"string"==typeof e)&&(o=e,e=null);try{a()}catch(e){s=e}var l=void 0===e&&void 0===o,d=Boolean(e&&o),h=!1,p=!1;if(l||!l&&!f){var g="an error";e instanceof Error?g="#{exp}":e&&(g=t.checkError.getConstructorName(e)),this.assert(s,"expected #{this} to throw "+g,"expected #{this} to not throw an error but #{act} was thrown",e&&e.toString(),s instanceof Error?s.toString():"string"==typeof s?s:s&&t.checkError.getConstructorName(s))}if(e&&s){if(e instanceof Error)t.checkError.compatibleInstance(s,e)===f&&(d&&f?h=!0:this.assert(f,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(s&&!f?" but #{act} was thrown":""),e.toString(),s.toString()));t.checkError.compatibleConstructor(s,e)===f&&(d&&f?h=!0:this.assert(f,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(s?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&t.checkError.getConstructorName(e),s instanceof Error?s.toString():s&&t.checkError.getConstructorName(s)))}if(s&&null!=o){var y="including";o instanceof RegExp&&(y="matching"),t.checkError.compatibleMessage(s,o)===f&&(d&&f?p=!0:this.assert(f,"expected #{this} to throw error "+y+" #{exp} but got #{act}","expected #{this} to throw error not "+y+" #{exp}",o,t.checkError.getMessage(s)))}h&&p&&this.assert(f,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(s?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&t.checkError.getConstructorName(e),s instanceof Error?s.toString():s&&t.checkError.getConstructorName(s)),r(this,"object",s)}function S(e,n){n&&r(this,"message",n);var o=r(this,"object"),i=r(this,"itself"),s="function"!=typeof o||i?o[e]:o.prototype[e];this.assert("function"==typeof s,"expected #{this} to respond to "+t.inspect(e),"expected #{this} to not respond to "+t.inspect(e))}function q(e,n){n&&r(this,"message",n);var o=e(r(this,"object"));this.assert(o,"expected #{this} to satisfy "+t.objDisplay(e),"expected #{this} to not satisfy"+t.objDisplay(e),!r(this,"negate"),o)}function N(e,t,i){i&&r(this,"message",i);var s=r(this,"object"),a=r(this,"message"),c=r(this,"ssfi");if(new n(s,a,c,!0).is.a("number"),"number"!=typeof e||"number"!=typeof t)throw new o((a=a?a+": ":"")+"the arguments to closeTo or approximately must be numbers",void 0,c);this.assert(Math.abs(s-e)<=t,"expected #{this} to be close to "+e+" +/- "+t,"expected #{this} not to be close to "+e+" +/- "+t)}function I(e,t,o){o&&r(this,"message",o);var i,s=r(this,"object"),a=r(this,"message"),c=r(this,"ssfi");new n(s,a,c,!0).is.a("function"),t?(new n(e,a,c,!0).to.have.property(t),i=e[t]):(new n(e,a,c,!0).is.a("function"),i=e()),s();var u=null==t?e():e[t],f=null==t?i:"."+t;r(this,"deltaMsgObj",f),r(this,"initialDeltaValue",i),r(this,"finalDeltaValue",u),r(this,"deltaBehavior","change"),r(this,"realDelta",u!==i),this.assert(i!==u,"expected "+f+" to change","expected "+f+" to not change")}function A(e,t,o){o&&r(this,"message",o);var i,s=r(this,"object"),a=r(this,"message"),c=r(this,"ssfi");new n(s,a,c,!0).is.a("function"),t?(new n(e,a,c,!0).to.have.property(t),i=e[t]):(new n(e,a,c,!0).is.a("function"),i=e()),new n(i,a,c,!0).is.a("number"),s();var u=null==t?e():e[t],f=null==t?i:"."+t;r(this,"deltaMsgObj",f),r(this,"initialDeltaValue",i),r(this,"finalDeltaValue",u),r(this,"deltaBehavior","increase"),r(this,"realDelta",u-i),this.assert(u-i>0,"expected "+f+" to increase","expected "+f+" to not increase")}function J(e,t,o){o&&r(this,"message",o);var i,s=r(this,"object"),a=r(this,"message"),c=r(this,"ssfi");new n(s,a,c,!0).is.a("function"),t?(new n(e,a,c,!0).to.have.property(t),i=e[t]):(new n(e,a,c,!0).is.a("function"),i=e()),new n(i,a,c,!0).is.a("number"),s();var u=null==t?e():e[t],f=null==t?i:"."+t;r(this,"deltaMsgObj",f),r(this,"initialDeltaValue",i),r(this,"finalDeltaValue",u),r(this,"deltaBehavior","decrease"),r(this,"realDelta",i-u),this.assert(u-i<0,"expected "+f+" to decrease","expected "+f+" to not decrease")}["to","be","been","is","and","has","have","with","that","which","at","of","same","but","does","still"].forEach((function(e){n.addProperty(e)})),n.addProperty("not",(function(){r(this,"negate",!0)})),n.addProperty("deep",(function(){r(this,"deep",!0)})),n.addProperty("nested",(function(){r(this,"nested",!0)})),n.addProperty("own",(function(){r(this,"own",!0)})),n.addProperty("ordered",(function(){r(this,"ordered",!0)})),n.addProperty("any",(function(){r(this,"any",!0),r(this,"all",!1)})),n.addProperty("all",(function(){r(this,"all",!0),r(this,"any",!1)})),n.addChainableMethod("an",i),n.addChainableMethod("a",i),n.addChainableMethod("include",c,a),n.addChainableMethod("contain",c,a),n.addChainableMethod("contains",c,a),n.addChainableMethod("includes",c,a),n.addProperty("ok",(function(){this.assert(r(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")})),n.addProperty("true",(function(){this.assert(!0===r(this,"object"),"expected #{this} to be true","expected #{this} to be false",!r(this,"negate"))})),n.addProperty("false",(function(){this.assert(!1===r(this,"object"),"expected #{this} to be false","expected #{this} to be true",!!r(this,"negate"))})),n.addProperty("null",(function(){this.assert(null===r(this,"object"),"expected #{this} to be null","expected #{this} not to be null")})),n.addProperty("undefined",(function(){this.assert(void 0===r(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")})),n.addProperty("NaN",(function(){this.assert(t.isNaN(r(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")})),n.addProperty("exist",(function(){var e=r(this,"object");this.assert(null!=e,"expected #{this} to exist","expected #{this} to not exist")})),n.addProperty("empty",(function(){var e,n=r(this,"object"),i=r(this,"ssfi"),s=r(this,"message");switch(s=s?s+": ":"",t.type(n).toLowerCase()){case"array":case"string":e=n.length;break;case"map":case"set":e=n.size;break;case"weakmap":case"weakset":throw new o(s+".empty was passed a weak collection",void 0,i);case"function":var a=s+".empty was passed a function "+t.getName(n);throw new o(a.trim(),void 0,i);default:if(n!==Object(n))throw new o(s+".empty was passed non-string primitive "+t.inspect(n),void 0,i);e=Object.keys(n).length}this.assert(0===e,"expected #{this} to be empty","expected #{this} not to be empty")})),n.addProperty("arguments",u),n.addProperty("Arguments",u),n.addMethod("equal",f),n.addMethod("equals",f),n.addMethod("eq",f),n.addMethod("eql",l),n.addMethod("eqls",l),n.addMethod("above",d),n.addMethod("gt",d),n.addMethod("greaterThan",d),n.addMethod("least",h),n.addMethod("gte",h),n.addMethod("below",p),n.addMethod("lt",p),n.addMethod("lessThan",p),n.addMethod("most",g),n.addMethod("lte",g),n.addMethod("within",(function(e,i,s){s&&r(this,"message",s);var a,c=r(this,"object"),u=r(this,"doLength"),f=r(this,"message"),l=f?f+": ":"",d=r(this,"ssfi"),h=t.type(c).toLowerCase(),p=t.type(e).toLowerCase(),g=t.type(i).toLowerCase(),y=!0,b="date"===p&&"date"===g?e.toUTCString()+".."+i.toUTCString():e+".."+i;if(u&&"map"!==h&&"set"!==h&&new n(c,f,d,!0).to.have.property("length"),u||"date"!==h||"date"===p&&"date"===g)if("number"===p&&"number"===g||!u&&"number"!==h)if(u||"date"===h||"number"===h)y=!1;else{a=l+"expected "+("string"===h?"'"+c+"'":c)+" to be a number or a date"}else a=l+"the arguments to within must be numbers";else a=l+"the arguments to within must be dates";if(y)throw new o(a,void 0,d);if(u){var m,w="length";"map"===h||"set"===h?(w="size",m=c.size):m=c.length,this.assert(m>=e&&m<=i,"expected #{this} to have a "+w+" within "+b,"expected #{this} to not have a "+w+" within "+b)}else this.assert(c>=e&&c<=i,"expected #{this} to be within "+b,"expected #{this} to not be within "+b)})),n.addMethod("instanceof",y),n.addMethod("instanceOf",y),n.addMethod("property",b),n.addMethod("ownProperty",m),n.addMethod("haveOwnProperty",m),n.addMethod("ownPropertyDescriptor",w),n.addMethod("haveOwnPropertyDescriptor",w),n.addChainableMethod("length",x,v),n.addChainableMethod("lengthOf",x,v),n.addMethod("match",O),n.addMethod("matches",O),n.addMethod("string",(function(e,o){o&&r(this,"message",o);var i=r(this,"object"),s=r(this,"message"),a=r(this,"ssfi");new n(i,s,a,!0).is.a("string"),this.assert(~i.indexOf(e),"expected #{this} to contain "+t.inspect(e),"expected #{this} to not contain "+t.inspect(e))})),n.addMethod("keys",P),n.addMethod("key",P),n.addMethod("throw",j),n.addMethod("throws",j),n.addMethod("Throw",j),n.addMethod("respondTo",S),n.addMethod("respondsTo",S),n.addProperty("itself",(function(){r(this,"itself",!0)})),n.addMethod("satisfy",q),n.addMethod("satisfies",q),n.addMethod("closeTo",N),n.addMethod("approximately",N),n.addMethod("members",(function(e,o){o&&r(this,"message",o);var i=r(this,"object"),s=r(this,"message"),a=r(this,"ssfi");new n(i,s,a,!0).to.be.an("array"),new n(e,s,a,!0).to.be.an("array");var c,u,f,l=r(this,"contains"),d=r(this,"ordered");l?(u="expected #{this} to be "+(c=d?"an ordered superset":"a superset")+" of #{exp}",f="expected #{this} to not be "+c+" of #{exp}"):(u="expected #{this} to have the same "+(c=d?"ordered members":"members")+" as #{exp}",f="expected #{this} to not have the same "+c+" as #{exp}");var h=r(this,"deep")?t.eql:void 0;this.assert(function(e,t,n,o,r){if(!o){if(e.length!==t.length)return!1;t=t.slice()}return e.every((function(e,i){if(r)return n?n(e,t[i]):e===t[i];if(!n){var s=t.indexOf(e);return-1!==s&&(o||t.splice(s,1),!0)}return t.some((function(r,i){return!!n(e,r)&&(o||t.splice(i,1),!0)}))}))}(e,i,h,l,d),u,f,e,i,!0)})),n.addMethod("oneOf",(function(e,t){t&&r(this,"message",t);var o=r(this,"object"),i=r(this,"message"),s=r(this,"ssfi");new n(e,i,s,!0).to.be.an("array"),this.assert(e.indexOf(o)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",e,o)})),n.addMethod("change",I),n.addMethod("changes",I),n.addMethod("increase",A),n.addMethod("increases",A),n.addMethod("decrease",J),n.addMethod("decreases",J),n.addMethod("by",(function(e,t){t&&r(this,"message",t);var n,o=r(this,"deltaMsgObj"),i=r(this,"initialDeltaValue"),s=r(this,"finalDeltaValue"),a=r(this,"deltaBehavior"),c=r(this,"realDelta");n="change"===a?Math.abs(s-i)===Math.abs(e):c===Math.abs(e),this.assert(n,"expected "+o+" to "+a+" by "+e,"expected "+o+" to not "+a+" by "+e)})),n.addProperty("extensible",(function(){var e=r(this,"object"),t=e===Object(e)&&Object.isExtensible(e);this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")})),n.addProperty("sealed",(function(){var e=r(this,"object"),t=e!==Object(e)||Object.isSealed(e);this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")})),n.addProperty("frozen",(function(){var e=r(this,"object"),t=e!==Object(e)||Object.isFrozen(e);this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")})),n.addProperty("finite",(function(e){var t=r(this,"object");this.assert("number"==typeof t&&isFinite(t),"expected #{this} to be a finite number","expected #{this} to not be a finite number")}))}},function(e,t){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){e.expect=function(t,n){return new e.Assertion(t,n)},e.expect.fail=function(t,n,o,r){throw arguments.length<2&&(o=t,t=void 0),o=o||"expect.fail()",new e.AssertionError(o,{actual:t,expected:n,operator:r},e.expect.fail)}}},function(e,t){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){var n=e.Assertion;function o(){Object.defineProperty(Object.prototype,"should",{set:function(e){Object.defineProperty(this,"should",{value:e,enumerable:!0,configurable:!0,writable:!0})},get:function e(){return this instanceof String||this instanceof Number||this instanceof Boolean||"function"==typeof Symbol&&this instanceof Symbol?new n(this.valueOf(),null,e):new n(this,null,e)},configurable:!0});var t={fail:function(n,o,r,i){throw arguments.length<2&&(r=n,n=void 0),r=r||"should.fail()",new e.AssertionError(r,{actual:n,expected:o,operator:i},t.fail)},equal:function(e,t,o){new n(e,o).to.equal(t)},Throw:function(e,t,o,r){new n(e,r).to.Throw(t,o)},exist:function(e,t){new n(e,t).to.exist},not:{}};return t.not.equal=function(e,t,o){new n(e,o).to.not.equal(t)},t.not.Throw=function(e,t,o,r){new n(e,r).to.not.Throw(t,o)},t.not.exist=function(e,t){new n(e,t).to.not.exist},t.throw=t.Throw,t.not.throw=t.not.Throw,t}e.should=o,e.Should=o}},function(e,t){
/*!
 * chai
 * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
e.exports=function(e,t){
/*!
   * Chai dependencies.
   */
var n=e.Assertion,o=t.flag,r=e.assert=function(t,o){new n(null,null,e.assert,!0).assert(t,o,"[ negation message unavailable ]")};
/*!
   * Module export.
   */r.fail=function(t,n,o,i){throw arguments.length<2&&(o=t,t=void 0),o=o||"assert.fail()",new e.AssertionError(o,{actual:t,expected:n,operator:i},r.fail)},r.isOk=function(e,t){new n(e,t,r.isOk,!0).is.ok},r.isNotOk=function(e,t){new n(e,t,r.isNotOk,!0).is.not.ok},r.equal=function(e,t,i){var s=new n(e,i,r.equal,!0);s.assert(t==o(s,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e,!0)},r.notEqual=function(e,t,i){var s=new n(e,i,r.notEqual,!0);s.assert(t!=o(s,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e,!0)},r.strictEqual=function(e,t,o){new n(e,o,r.strictEqual,!0).to.equal(t)},r.notStrictEqual=function(e,t,o){new n(e,o,r.notStrictEqual,!0).to.not.equal(t)},r.deepEqual=r.deepStrictEqual=function(e,t,o){new n(e,o,r.deepEqual,!0).to.eql(t)},r.notDeepEqual=function(e,t,o){new n(e,o,r.notDeepEqual,!0).to.not.eql(t)},r.isAbove=function(e,t,o){new n(e,o,r.isAbove,!0).to.be.above(t)},r.isAtLeast=function(e,t,o){new n(e,o,r.isAtLeast,!0).to.be.least(t)},r.isBelow=function(e,t,o){new n(e,o,r.isBelow,!0).to.be.below(t)},r.isAtMost=function(e,t,o){new n(e,o,r.isAtMost,!0).to.be.most(t)},r.isTrue=function(e,t){new n(e,t,r.isTrue,!0).is.true},r.isNotTrue=function(e,t){new n(e,t,r.isNotTrue,!0).to.not.equal(!0)},r.isFalse=function(e,t){new n(e,t,r.isFalse,!0).is.false},r.isNotFalse=function(e,t){new n(e,t,r.isNotFalse,!0).to.not.equal(!1)},r.isNull=function(e,t){new n(e,t,r.isNull,!0).to.equal(null)},r.isNotNull=function(e,t){new n(e,t,r.isNotNull,!0).to.not.equal(null)},r.isNaN=function(e,t){new n(e,t,r.isNaN,!0).to.be.NaN},r.isNotNaN=function(e,t){new n(e,t,r.isNotNaN,!0).not.to.be.NaN},r.exists=function(e,t){new n(e,t,r.exists,!0).to.exist},r.notExists=function(e,t){new n(e,t,r.notExists,!0).to.not.exist},r.isUndefined=function(e,t){new n(e,t,r.isUndefined,!0).to.equal(void 0)},r.isDefined=function(e,t){new n(e,t,r.isDefined,!0).to.not.equal(void 0)},r.isFunction=function(e,t){new n(e,t,r.isFunction,!0).to.be.a("function")},r.isNotFunction=function(e,t){new n(e,t,r.isNotFunction,!0).to.not.be.a("function")},r.isObject=function(e,t){new n(e,t,r.isObject,!0).to.be.a("object")},r.isNotObject=function(e,t){new n(e,t,r.isNotObject,!0).to.not.be.a("object")},r.isArray=function(e,t){new n(e,t,r.isArray,!0).to.be.an("array")},r.isNotArray=function(e,t){new n(e,t,r.isNotArray,!0).to.not.be.an("array")},r.isString=function(e,t){new n(e,t,r.isString,!0).to.be.a("string")},r.isNotString=function(e,t){new n(e,t,r.isNotString,!0).to.not.be.a("string")},r.isNumber=function(e,t){new n(e,t,r.isNumber,!0).to.be.a("number")},r.isNotNumber=function(e,t){new n(e,t,r.isNotNumber,!0).to.not.be.a("number")},r.isFinite=function(e,t){new n(e,t,r.isFinite,!0).to.be.finite},r.isBoolean=function(e,t){new n(e,t,r.isBoolean,!0).to.be.a("boolean")},r.isNotBoolean=function(e,t){new n(e,t,r.isNotBoolean,!0).to.not.be.a("boolean")},r.typeOf=function(e,t,o){new n(e,o,r.typeOf,!0).to.be.a(t)},r.notTypeOf=function(e,t,o){new n(e,o,r.notTypeOf,!0).to.not.be.a(t)},r.instanceOf=function(e,t,o){new n(e,o,r.instanceOf,!0).to.be.instanceOf(t)},r.notInstanceOf=function(e,t,o){new n(e,o,r.notInstanceOf,!0).to.not.be.instanceOf(t)},r.include=function(e,t,o){new n(e,o,r.include,!0).include(t)},r.notInclude=function(e,t,o){new n(e,o,r.notInclude,!0).not.include(t)},r.deepInclude=function(e,t,o){new n(e,o,r.deepInclude,!0).deep.include(t)},r.notDeepInclude=function(e,t,o){new n(e,o,r.notDeepInclude,!0).not.deep.include(t)},r.nestedInclude=function(e,t,o){new n(e,o,r.nestedInclude,!0).nested.include(t)},r.notNestedInclude=function(e,t,o){new n(e,o,r.notNestedInclude,!0).not.nested.include(t)},r.deepNestedInclude=function(e,t,o){new n(e,o,r.deepNestedInclude,!0).deep.nested.include(t)},r.notDeepNestedInclude=function(e,t,o){new n(e,o,r.notDeepNestedInclude,!0).not.deep.nested.include(t)},r.ownInclude=function(e,t,o){new n(e,o,r.ownInclude,!0).own.include(t)},r.notOwnInclude=function(e,t,o){new n(e,o,r.notOwnInclude,!0).not.own.include(t)},r.deepOwnInclude=function(e,t,o){new n(e,o,r.deepOwnInclude,!0).deep.own.include(t)},r.notDeepOwnInclude=function(e,t,o){new n(e,o,r.notDeepOwnInclude,!0).not.deep.own.include(t)},r.match=function(e,t,o){new n(e,o,r.match,!0).to.match(t)},r.notMatch=function(e,t,o){new n(e,o,r.notMatch,!0).to.not.match(t)},r.property=function(e,t,o){new n(e,o,r.property,!0).to.have.property(t)},r.notProperty=function(e,t,o){new n(e,o,r.notProperty,!0).to.not.have.property(t)},r.propertyVal=function(e,t,o,i){new n(e,i,r.propertyVal,!0).to.have.property(t,o)},r.notPropertyVal=function(e,t,o,i){new n(e,i,r.notPropertyVal,!0).to.not.have.property(t,o)},r.deepPropertyVal=function(e,t,o,i){new n(e,i,r.deepPropertyVal,!0).to.have.deep.property(t,o)},r.notDeepPropertyVal=function(e,t,o,i){new n(e,i,r.notDeepPropertyVal,!0).to.not.have.deep.property(t,o)},r.ownProperty=function(e,t,o){new n(e,o,r.ownProperty,!0).to.have.own.property(t)},r.notOwnProperty=function(e,t,o){new n(e,o,r.notOwnProperty,!0).to.not.have.own.property(t)},r.ownPropertyVal=function(e,t,o,i){new n(e,i,r.ownPropertyVal,!0).to.have.own.property(t,o)},r.notOwnPropertyVal=function(e,t,o,i){new n(e,i,r.notOwnPropertyVal,!0).to.not.have.own.property(t,o)},r.deepOwnPropertyVal=function(e,t,o,i){new n(e,i,r.deepOwnPropertyVal,!0).to.have.deep.own.property(t,o)},r.notDeepOwnPropertyVal=function(e,t,o,i){new n(e,i,r.notDeepOwnPropertyVal,!0).to.not.have.deep.own.property(t,o)},r.nestedProperty=function(e,t,o){new n(e,o,r.nestedProperty,!0).to.have.nested.property(t)},r.notNestedProperty=function(e,t,o){new n(e,o,r.notNestedProperty,!0).to.not.have.nested.property(t)},r.nestedPropertyVal=function(e,t,o,i){new n(e,i,r.nestedPropertyVal,!0).to.have.nested.property(t,o)},r.notNestedPropertyVal=function(e,t,o,i){new n(e,i,r.notNestedPropertyVal,!0).to.not.have.nested.property(t,o)},r.deepNestedPropertyVal=function(e,t,o,i){new n(e,i,r.deepNestedPropertyVal,!0).to.have.deep.nested.property(t,o)},r.notDeepNestedPropertyVal=function(e,t,o,i){new n(e,i,r.notDeepNestedPropertyVal,!0).to.not.have.deep.nested.property(t,o)},r.lengthOf=function(e,t,o){new n(e,o,r.lengthOf,!0).to.have.lengthOf(t)},r.hasAnyKeys=function(e,t,o){new n(e,o,r.hasAnyKeys,!0).to.have.any.keys(t)},r.hasAllKeys=function(e,t,o){new n(e,o,r.hasAllKeys,!0).to.have.all.keys(t)},r.containsAllKeys=function(e,t,o){new n(e,o,r.containsAllKeys,!0).to.contain.all.keys(t)},r.doesNotHaveAnyKeys=function(e,t,o){new n(e,o,r.doesNotHaveAnyKeys,!0).to.not.have.any.keys(t)},r.doesNotHaveAllKeys=function(e,t,o){new n(e,o,r.doesNotHaveAllKeys,!0).to.not.have.all.keys(t)},r.hasAnyDeepKeys=function(e,t,o){new n(e,o,r.hasAnyDeepKeys,!0).to.have.any.deep.keys(t)},r.hasAllDeepKeys=function(e,t,o){new n(e,o,r.hasAllDeepKeys,!0).to.have.all.deep.keys(t)},r.containsAllDeepKeys=function(e,t,o){new n(e,o,r.containsAllDeepKeys,!0).to.contain.all.deep.keys(t)},r.doesNotHaveAnyDeepKeys=function(e,t,o){new n(e,o,r.doesNotHaveAnyDeepKeys,!0).to.not.have.any.deep.keys(t)},r.doesNotHaveAllDeepKeys=function(e,t,o){new n(e,o,r.doesNotHaveAllDeepKeys,!0).to.not.have.all.deep.keys(t)},r.throws=function(e,t,i,s){("string"==typeof t||t instanceof RegExp)&&(i=t,t=null);var a=new n(e,s,r.throws,!0).to.throw(t,i);return o(a,"object")},r.doesNotThrow=function(e,t,o,i){("string"==typeof t||t instanceof RegExp)&&(o=t,t=null),new n(e,i,r.doesNotThrow,!0).to.not.throw(t,o)},r.operator=function(i,s,a,c){var u;switch(s){case"==":u=i==a;break;case"===":u=i===a;break;case">":u=i>a;break;case">=":u=i>=a;break;case"<":u=i<a;break;case"<=":u=i<=a;break;case"!=":u=i!=a;break;case"!==":u=i!==a;break;default:throw c=c?c+": ":c,new e.AssertionError(c+'Invalid operator "'+s+'"',void 0,r.operator)}var f=new n(u,c,r.operator,!0);f.assert(!0===o(f,"object"),"expected "+t.inspect(i)+" to be "+s+" "+t.inspect(a),"expected "+t.inspect(i)+" to not be "+s+" "+t.inspect(a))},r.closeTo=function(e,t,o,i){new n(e,i,r.closeTo,!0).to.be.closeTo(t,o)},r.approximately=function(e,t,o,i){new n(e,i,r.approximately,!0).to.be.approximately(t,o)},r.sameMembers=function(e,t,o){new n(e,o,r.sameMembers,!0).to.have.same.members(t)},r.notSameMembers=function(e,t,o){new n(e,o,r.notSameMembers,!0).to.not.have.same.members(t)},r.sameDeepMembers=function(e,t,o){new n(e,o,r.sameDeepMembers,!0).to.have.same.deep.members(t)},r.notSameDeepMembers=function(e,t,o){new n(e,o,r.notSameDeepMembers,!0).to.not.have.same.deep.members(t)},r.sameOrderedMembers=function(e,t,o){new n(e,o,r.sameOrderedMembers,!0).to.have.same.ordered.members(t)},r.notSameOrderedMembers=function(e,t,o){new n(e,o,r.notSameOrderedMembers,!0).to.not.have.same.ordered.members(t)},r.sameDeepOrderedMembers=function(e,t,o){new n(e,o,r.sameDeepOrderedMembers,!0).to.have.same.deep.ordered.members(t)},r.notSameDeepOrderedMembers=function(e,t,o){new n(e,o,r.notSameDeepOrderedMembers,!0).to.not.have.same.deep.ordered.members(t)},r.includeMembers=function(e,t,o){new n(e,o,r.includeMembers,!0).to.include.members(t)},r.notIncludeMembers=function(e,t,o){new n(e,o,r.notIncludeMembers,!0).to.not.include.members(t)},r.includeDeepMembers=function(e,t,o){new n(e,o,r.includeDeepMembers,!0).to.include.deep.members(t)},r.notIncludeDeepMembers=function(e,t,o){new n(e,o,r.notIncludeDeepMembers,!0).to.not.include.deep.members(t)},r.includeOrderedMembers=function(e,t,o){new n(e,o,r.includeOrderedMembers,!0).to.include.ordered.members(t)},r.notIncludeOrderedMembers=function(e,t,o){new n(e,o,r.notIncludeOrderedMembers,!0).to.not.include.ordered.members(t)},r.includeDeepOrderedMembers=function(e,t,o){new n(e,o,r.includeDeepOrderedMembers,!0).to.include.deep.ordered.members(t)},r.notIncludeDeepOrderedMembers=function(e,t,o){new n(e,o,r.notIncludeDeepOrderedMembers,!0).to.not.include.deep.ordered.members(t)},r.oneOf=function(e,t,o){new n(e,o,r.oneOf,!0).to.be.oneOf(t)},r.changes=function(e,t,o,i){3===arguments.length&&"function"==typeof t&&(i=o,o=null),new n(e,i,r.changes,!0).to.change(t,o)},r.changesBy=function(e,t,o,i,s){if(4===arguments.length&&"function"==typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);new n(e,s,r.changesBy,!0).to.change(t,o).by(i)},r.doesNotChange=function(e,t,o,i){return 3===arguments.length&&"function"==typeof t&&(i=o,o=null),new n(e,i,r.doesNotChange,!0).to.not.change(t,o)},r.changesButNotBy=function(e,t,o,i,s){if(4===arguments.length&&"function"==typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);new n(e,s,r.changesButNotBy,!0).to.change(t,o).but.not.by(i)},r.increases=function(e,t,o,i){return 3===arguments.length&&"function"==typeof t&&(i=o,o=null),new n(e,i,r.increases,!0).to.increase(t,o)},r.increasesBy=function(e,t,o,i,s){if(4===arguments.length&&"function"==typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);new n(e,s,r.increasesBy,!0).to.increase(t,o).by(i)},r.doesNotIncrease=function(e,t,o,i){return 3===arguments.length&&"function"==typeof t&&(i=o,o=null),new n(e,i,r.doesNotIncrease,!0).to.not.increase(t,o)},r.increasesButNotBy=function(e,t,o,i,s){if(4===arguments.length&&"function"==typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);new n(e,s,r.increasesButNotBy,!0).to.increase(t,o).but.not.by(i)},r.decreases=function(e,t,o,i){return 3===arguments.length&&"function"==typeof t&&(i=o,o=null),new n(e,i,r.decreases,!0).to.decrease(t,o)},r.decreasesBy=function(e,t,o,i,s){if(4===arguments.length&&"function"==typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);new n(e,s,r.decreasesBy,!0).to.decrease(t,o).by(i)},r.doesNotDecrease=function(e,t,o,i){return 3===arguments.length&&"function"==typeof t&&(i=o,o=null),new n(e,i,r.doesNotDecrease,!0).to.not.decrease(t,o)},r.doesNotDecreaseBy=function(e,t,o,i,s){if(4===arguments.length&&"function"==typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);return new n(e,s,r.doesNotDecreaseBy,!0).to.not.decrease(t,o).by(i)},r.decreasesButNotBy=function(e,t,o,i,s){if(4===arguments.length&&"function"==typeof t){var a=i;i=o,s=a}else 3===arguments.length&&(i=o,o=null);new n(e,s,r.decreasesButNotBy,!0).to.decrease(t,o).but.not.by(i)}
/*!
   * ### .ifError(object)
   *
   * Asserts if value is not a false value, and throws if it is a true value.
   * This is added to allow for chai to be a drop-in replacement for Node's
   * assert class.
   *
   *     var err = new Error('I am a custom error');
   *     assert.ifError(err); // Rethrows err!
   *
   * @name ifError
   * @param {Object} object
   * @namespace Assert
   * @api public
   */,r.ifError=function(e){if(e)throw e},r.isExtensible=function(e,t){new n(e,t,r.isExtensible,!0).to.be.extensible},r.isNotExtensible=function(e,t){new n(e,t,r.isNotExtensible,!0).to.not.be.extensible},r.isSealed=function(e,t){new n(e,t,r.isSealed,!0).to.be.sealed},r.isNotSealed=function(e,t){new n(e,t,r.isNotSealed,!0).to.not.be.sealed},r.isFrozen=function(e,t){new n(e,t,r.isFrozen,!0).to.be.frozen},r.isNotFrozen=function(e,t){new n(e,t,r.isNotFrozen,!0).to.not.be.frozen},r.isEmpty=function(e,t){new n(e,t,r.isEmpty,!0).to.be.empty},r.isNotEmpty=function(e,t){new n(e,t,r.isNotEmpty,!0).to.not.be.empty},
/*!
   * Aliases.
   */
function e(t,n){return r[n]=r[t],e}("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")("isEmpty","empty")("isNotEmpty","notEmpty")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(5),r=n(47),i=n(4);describe("JsonPointer",()=>{const e={has:"data",arr:["data",{nested:"object with data"},null],nested:{even:{further:"hello"}}},t=[["",e],["/has",e.has],["/arr",e.arr],["/arr/0",e.arr[0]],["/arr/1",e.arr[1]],["/arr/1/nested",e.arr[1].nested],["/arr/2",e.arr[2]],["/nested",e.nested],["/nested/even",e.nested.even],["/nested/even/further",e.nested.even.further],["/hasnot",void 0]],n={foo:"bar",baz:["qux","quux",{garply:{waldo:["fred","plugh"]}}]},s=[["",n],["/foo",n.foo],["/baz",n.baz],["/baz/0",n.baz[0]],["/baz/1",n.baz[1]],["/baz/2",n.baz[2]],["/baz/2/garply",n.baz[2].garply],["/baz/2/garply/waldo",n.baz[2].garply.waldo],["/baz/2/garply/waldo/0",n.baz[2].garply.waldo[0]],["/baz/2/garply/waldo/1",n.baz[2].garply.waldo[1]]],a=[["#",n],["#/foo",n.foo],["#/baz",n.baz],["#/baz/0",n.baz[0]],["#/baz/1",n.baz[1]],["#/baz/2",n.baz[2]],["#/baz/2/garply",n.baz[2].garply],["#/baz/2/garply/waldo",n.baz[2].garply.waldo],["#/baz/2/garply/waldo/0",n.baz[2].garply.waldo[0]],["#/baz/2/garply/waldo/1",n.baz[2].garply.waldo[1]]];describe("static .create()",()=>{it("throws on undefined",()=>{o.expect(()=>i.JsonPointer.create(void 0)).to.throw("Invalid type: JSON Pointers are represented as strings.")}),it("succeeds when pointer is string",()=>{o.expect(i.JsonPointer.create("")).to.be.a("object")}),it("succeeds when pointer is PathSegment",()=>{o.expect(i.JsonPointer.create([])).to.be.a("object")})}),describe(".ctor()",()=>{it("throws on undefined",()=>{o.expect(()=>new i.JsonPointer(void 0)).to.throw("Invalid type: JSON Pointers are represented as strings.")}),it("succeeds when pointer is string",()=>{o.expect(new i.JsonPointer("")).to.be.a("object")}),it("succeeds when pointer is PathSegment",()=>{o.expect(new i.JsonPointer([])).to.be.a("object")})}),describe("static .has()",()=>{for(const[n,r]of t)it(`static .has(data, '${n}') = ${void 0!==r}`,()=>{o.expect(i.JsonPointer.has(e,n)).to.be.eql(void 0!==r)}),it(`static .has(data, '${JSON.stringify(i.JsonPointer.decode(n))}') = ${void 0!==r}`,()=>{o.expect(i.JsonPointer.has(e,i.JsonPointer.decode(n))).to.be.eql(void 0!==r)}),it(`static .has(data, p'${n}') = ${void 0!==r}`,()=>{o.expect(i.JsonPointer.has(e,new i.JsonPointer(n))).to.be.eql(void 0!==r)})}),describe(".has()",()=>{for(const[n,r]of t)it(`.has('${n}') = ${void 0!==r}`,()=>{const t=new i.JsonPointer(n);o.expect(t.has(e)).to.be.eql(void 0!==r)})}),describe("static .get()",()=>{for(const[n,r]of t)it(`static .get(data, '${n}') = ${JSON.stringify(r)}`,()=>{o.expect(i.JsonPointer.get(e,n)).to.be.eql(r)}),it(`static .get(data, '${JSON.stringify(i.JsonPointer.decode(n))}') = ${JSON.stringify(r)}`,()=>{o.expect(i.JsonPointer.get(e,i.JsonPointer.decode(n))).to.be.eql(r)}),it(`static .get(data, p'${n}') = ${JSON.stringify(r)}`,()=>{o.expect(i.JsonPointer.get(e,new i.JsonPointer(n))).to.be.eql(r)})}),describe("static .set() unforced",()=>{const n=JSON.parse(JSON.stringify(e)),r=JSON.parse(JSON.stringify(e)),s=JSON.parse(JSON.stringify(e));for(const[e,u]of t.reverse()){const t=(a=1,c=99999,Math.random()*(c-a)+a);it(`static .set(data, '${e}', ${t})`,()=>{""!==e?(i.JsonPointer.set(n,e,t),void 0===u?o.expect(i.JsonPointer.get(n,e)).to.be.eql(u):o.expect(i.JsonPointer.get(n,e)).to.be.eql(t)):o.expect(()=>i.JsonPointer.set(n,e,t)).to.throw("Cannot set the root object; assign it directly.")}),it(`static .set(data, ${JSON.stringify(i.JsonPointer.decode(e))}, ${t})`,()=>{0!==e.length?(i.JsonPointer.set(r,i.JsonPointer.decode(e),t),void 0===u?o.expect(i.JsonPointer.get(r,i.JsonPointer.decode(e))).to.be.eql(u):o.expect(i.JsonPointer.get(r,i.JsonPointer.decode(e))).to.be.eql(t)):o.expect(()=>i.JsonPointer.set(r,i.JsonPointer.decode(e),t)).to.throw("Cannot set the root object; assign it directly.")}),it(`static .set(data, p'${e}', ${t})`,()=>{""!==e?(i.JsonPointer.set(s,new i.JsonPointer(e),t),void 0===u?o.expect(i.JsonPointer.get(s,e)).to.be.eql(u):o.expect(i.JsonPointer.get(s,e)).to.be.eql(t)):o.expect(()=>i.JsonPointer.set(s,new i.JsonPointer(e),t)).to.throw("Cannot set the root object; assign it directly.")})}var a,c}),describe("static .unset()",()=>{const n=JSON.parse(JSON.stringify(e)),r=JSON.parse(JSON.stringify(e)),s=JSON.parse(JSON.stringify(e));for(const[e]of t.reverse())it(`static .unset(data, '${e}')`,()=>{if(""===e)return void o.expect(()=>i.JsonPointer.unset(n,e)).to.throw("Cannot unset the root object; assign it directly.");const t=i.JsonPointer.get(n,e);o.expect(i.JsonPointer.unset(n,e)).to.be.eql(t),o.expect(i.JsonPointer.get(n,e)).to.be.undefined}),it(`static .unset(data, ${JSON.stringify(i.JsonPointer.decode(e))})`,()=>{if(0===e.length)return void o.expect(()=>i.JsonPointer.unset(r,i.JsonPointer.decode(e))).to.throw("Cannot unset the root object; assign it directly.");const t=i.JsonPointer.get(r,e);o.expect(i.JsonPointer.unset(r,i.JsonPointer.decode(e))).to.be.eql(t),o.expect(i.JsonPointer.get(r,i.JsonPointer.decode(e))).to.be.undefined}),it(`static .unset(data, p'${e}')`,()=>{if(""===e)return void o.expect(()=>i.JsonPointer.unset(s,new i.JsonPointer(e))).to.throw("Cannot unset the root object; assign it directly.");const t=i.JsonPointer.get(s,e);o.expect(i.JsonPointer.unset(s,new i.JsonPointer(e))).to.be.eql(t),o.expect(i.JsonPointer.get(s,e)).to.be.undefined})}),describe("static .visit()",()=>{it("static .visit(data)",()=>{const e=[];i.JsonPointer.visit(n,(t,n)=>{const o=i.JsonPointer.decode(t);o.length&&(e.push(o[o.length-1]),"string"==typeof n&&e.push(n))}),o.expect(e).to.eql(["foo","bar","baz","0","qux","1","quux","2","garply","waldo","0","fred","1","plugh"])}),it("static .visit(data) fragments",()=>{const e=[];i.JsonPointer.visit(n,(t,n)=>{const o=i.JsonPointer.decode(t);o.length&&(e.push(o[o.length-1]),"string"==typeof n&&e.push(n))},!0),o.expect(e).to.eql(["foo","bar","baz","0","qux","1","quux","2","garply","waldo","0","fred","1","plugh"])});const e={my:{obj:"with nested data"}},t={your:{obj:{refers_to:e}},my:e};t.self={nested:[t,e]},it("handles references",()=>{const e={};i.JsonPointer.visit(t,(t,n)=>{e[t]=n}),console.log(r.inspect(e,!1,9))})}),describe("static .flatten()",()=>{const e={foo:"bar",baz:["qux","quux",{garply:{waldo:["fred","plugh"]}}]},t=i.JsonPointer.flatten(e),n=i.JsonPointer.flatten(e,!0);it("obj to # of items",()=>{o.expect(Object.keys(t).length).to.eql(s.length)});for(const[e,n]of s)it(`obj['${e}'] === ${JSON.stringify(n)}`,()=>{o.expect(t[e]).to.eql(n)});for(const[e,t]of a)it(`obj['${e}'] === ${JSON.stringify(t)}`,()=>{o.expect(n[e]).to.eql(t)})}),describe("static .map()",()=>{const e={foo:"bar",baz:["qux","quux",{garply:{waldo:["fred","plugh"]}}]},t=i.JsonPointer.map(e),n=i.JsonPointer.map(e,!0);it("map to # of items",()=>{o.expect(Array.from(t.keys()).length).to.eql(s.length)});for(const[e,n]of s)it(`map.get('${e}') === ${JSON.stringify(n)}`,()=>{o.expect(t.get(e)).to.eql(n)});for(const[e,t]of a)it(`map.get('${e}') === ${JSON.stringify(t)}`,()=>{o.expect(n.get(e)).to.eql(t)})}),describe("static .decode()",()=>{const e=[["",[]],["/foo",["foo"]],["/foo/0",["foo","0"]],["/",[""]],["/a~1b",["a/b"]],["/c%d",["c%d"]],["/e^f",["e^f"]],["/g|h",["g|h"]],["/i\\j",["i\\j"]],['/k"l',['k"l']],["/ ",[" "]],["/m~0n",["m~n"]],["/foo/bar/baz",["foo","bar","baz"]],["#/foo/bar/baz",["foo","bar","baz"]]];for(const[t,n]of e)it(`.decode('${t}') = ${JSON.stringify(n)}`,()=>{o.expect(i.JsonPointer.decode(t)).to.be.eql(n)})}),describe(".pointer property",()=>{it("encodes pointer",()=>{const e=new i.JsonPointer("/foo");o.expect(e.pointer).to.eql("/foo"),o.expect(e.pointer).to.eql(e.pointer)}),it("encodes fragment",()=>{const e=new i.JsonPointer("#/foo");o.expect(e.pointer).to.eql("/foo"),o.expect(e.pointer).to.eql(e.pointer),o.expect(e.uriFragmentIdentifier).to.eql("#/foo")})})})},function(e,t,n){(function(e){var o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},o=0;o<t.length;o++)n[t[o]]=Object.getOwnPropertyDescriptor(e,t[o]);return n},r=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,i=o.length,s=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(e){return"[Circular]"}default:return e}})),c=o[n];n<i;c=o[++n])g(c)||!v(c)?s+=" "+c:s+=" "+a(c);return s},t.deprecate=function(n,o){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,o).apply(this,arguments)};var r=!1;return function(){if(!r){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),r=!0}return n.apply(this,arguments)}};var i,s={};function a(e,n){var o={seen:[],stylize:u};return arguments.length>=3&&(o.depth=arguments[2]),arguments.length>=4&&(o.colors=arguments[3]),p(n)?o.showHidden=n:n&&t._extend(o,n),m(o.showHidden)&&(o.showHidden=!1),m(o.depth)&&(o.depth=2),m(o.colors)&&(o.colors=!1),m(o.customInspect)&&(o.customInspect=!0),o.colors&&(o.stylize=c),f(o,e,o.depth)}function c(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function u(e,t){return e}function f(e,n,o){if(e.customInspect&&n&&P(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(o,e);return b(r)||(r=f(e,r,o)),r}var i=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(y(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(i)return i;var s=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),O(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(n);if(0===s.length){if(P(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return l(n)}var u,v="",j=!1,S=["{","}"];(h(n)&&(j=!0,S=["[","]"]),P(n))&&(v=" [Function"+(n.name?": "+n.name:"")+"]");return w(n)&&(v=" "+RegExp.prototype.toString.call(n)),x(n)&&(v=" "+Date.prototype.toUTCString.call(n)),O(n)&&(v=" "+l(n)),0!==s.length||j&&0!=n.length?o<0?w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=j?function(e,t,n,o,r){for(var i=[],s=0,a=t.length;s<a;++s)I(t,String(s))?i.push(d(e,t,n,o,String(s),!0)):i.push("");return r.forEach((function(r){r.match(/^\d+$/)||i.push(d(e,t,n,o,r,!0))})),i}(e,n,o,a,s):s.map((function(t){return d(e,n,o,a,t,j)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,v,S)):S[0]+v+S[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,o,r,i){var s,a,c;if((c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),I(o,r)||(s="["+r+"]"),a||(e.seen.indexOf(c.value)<0?(a=g(n)?f(e,c.value,null):f(e,c.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),m(s)){if(i&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function m(e){return void 0===e}function w(e){return v(e)&&"[object RegExp]"===j(e)}function v(e){return"object"==typeof e&&null!==e}function x(e){return v(e)&&"[object Date]"===j(e)}function O(e){return v(e)&&("[object Error]"===j(e)||e instanceof Error)}function P(e){return"function"==typeof e}function j(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(m(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var o=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,o,e)}}else s[n]=function(){};return s[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=w,t.isObject=v,t.isDate=x,t.isError=O,t.isFunction=P,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(49);var q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),q[e.getMonth()],t].join(" ")}function I(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",N(),t.format.apply(t,arguments))},t.inherits=n(50),t._extend=function(e,t){if(!t||!v(t))return e;for(var n=Object.keys(t),o=n.length;o--;)e[n[o]]=t[n[o]];return e};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function J(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!=typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,o=new Promise((function(e,o){t=e,n=o})),r=[],i=0;i<arguments.length;i++)r.push(arguments[i]);r.push((function(e,o){e?n(e):t(o)}));try{e.apply(this,r)}catch(e){n(e)}return o}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=A,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],o=0;o<arguments.length;o++)n.push(arguments[o]);var r=n.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return r.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(J,t,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,o(t)),n}}).call(this,n(48))},function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var c,u=[],f=!1,l=-1;function d(){f&&c&&(f=!1,c.length?u=c.concat(u):l=-1,u.length&&h())}function h(){if(!f){var e=a(d);f=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,f=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||f||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(5),r=n(4);describe("JsonReference",()=>{describe(".ctor()",()=>{it("throws when pointer unspecified",()=>{o.expect(()=>new r.JsonReference(void 0)).to.throw("Invalid type: JSON Pointers are represented as strings.")}),it("succeeds when pointer specified as string",()=>{const e=new r.JsonReference("");o.expect(e.pointer().path).to.eql([])}),it("succeeds when pointer specified as PathSegments",()=>{const e=new r.JsonReference([]);o.expect(e.pointer().path).to.eql([])}),it("succeeds when pointer specified as JsonPointer",()=>{const e=new r.JsonReference(new r.JsonPointer("/foo"));o.expect(e.pointer().path).to.eql(["foo"])})}),describe("static .isReference()",()=>{it("returns false when reference unspecified",()=>{o.expect(r.JsonReference.isReference(void 0)).to.be.false}),it("returns false when reference specified as null",()=>{o.expect(r.JsonReference.isReference(null)).to.be.false}),it("returns false when reference specified is not a reference",()=>{o.expect(r.JsonReference.isReference(new Date)).to.be.false}),it("returns true when reference specified",()=>{o.expect(r.JsonReference.isReference(new r.JsonReference(""))).to.be.true})}),describe(".resolve()",()=>{const e={foo:{bar:"baz"}};it("resolves to referenced property",()=>{const t=new r.JsonReference("/foo/bar");o.expect(t.resolve(e)).to.eql(e.foo.bar)}),it("resolves to undefined when no such property",()=>{const t=new r.JsonReference("/foo/baz");o.expect(t.resolve(e)).to.be.undefined})}),describe(".toString()",()=>{it("is interpolated",()=>{const e=new r.JsonReference("/foo/bar");o.expect(""+e).to.eql("#/foo/bar")}),it("is coerced",()=>{const e=new r.JsonReference("/foo/bar");o.expect(""+e).to.eql("#/foo/bar")})})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(5),r=n(4);describe("Utils",()=>{const e=[[[],[],"#"],[[""],[""],"#/"],[["foo bar"],["foo%20bar"],"#/foo%20bar"],[["foo bar",0],["foo%20bar",0],"#/foo%20bar/0"]],t=[[[],[],""],[[""],[""],"/"],[["foo bar"],["foo bar"],"/foo bar"],[["foo bar",0],["foo bar",0],"/foo bar/0"]];describe("encodeFragmentSegments()",()=>{for(const[t,n]of e)it(`${JSON.stringify(t)} encodes to ${JSON.stringify(n)}`,()=>{o.expect(r.encodeFragmentSegments(t)).to.eql(n)})}),describe("decodeFragmentSegments()",()=>{for(const[t,n]of e)it(`${JSON.stringify(n)} encodes to ${JSON.stringify(t)}`,()=>{o.expect(r.decodeFragmentSegments(n)).to.eql(t)})}),describe("encodePointerSegments()",()=>{for(const[e,n]of t)it(`${JSON.stringify(e)} encodes to ${JSON.stringify(n)}`,()=>{o.expect(r.encodePointerSegments(e)).to.eql(n)})}),describe("decodePointerSegments()",()=>{for(const[e,n]of t)it(`${JSON.stringify(n)} encodes to ${JSON.stringify(e)}`,()=>{o.expect(r.decodePointerSegments(n)).to.eql(e)})}),describe("encodePointer()",()=>{it("throws when segments unspecified",()=>{o.expect(()=>r.encodePointer(void 0)).to.throw("Invalid type: path must be an array of segments.")}),it("throws when segments specified wrong type",()=>{o.expect(()=>r.encodePointer({})).to.throw("Invalid type: path must be an array of segments.")});for(const[,e,n]of t)it(`${JSON.stringify(e)} = '${n}'`,()=>{o.expect(r.encodePointer(e)).to.eql(n)})}),describe("encodeUriFragmentIdentifier()",()=>{it("throws when segments unspecified",()=>{o.expect(()=>r.encodeUriFragmentIdentifier(void 0)).to.throw("Invalid type: path must be an array of segments.")}),it("throws when segments specified wrong type",()=>{o.expect(()=>r.encodeUriFragmentIdentifier({})).to.throw("Invalid type: path must be an array of segments.")});for(const[t,,n]of e)it(`${JSON.stringify(t)} = '${n}'`,()=>{o.expect(r.encodeUriFragmentIdentifier(t)).to.eql(n)})}),describe("decodeUriFragmentIdentifier()",()=>{it("throws when ptr unspecified",()=>{o.expect(()=>r.decodeUriFragmentIdentifier(void 0)).to.throw("Invalid type: JSON Pointers are represented as strings.")}),it("throws when ptr specified wrong type",()=>{o.expect(()=>r.decodeUriFragmentIdentifier({})).to.throw("Invalid type: JSON Pointers are represented as strings.")}),it("throws when invalid ptr specified",()=>{o.expect(()=>r.decodeUriFragmentIdentifier("")).to.throw("Invalid JSON Pointer syntax; URI fragment identifiers must begin with a hash.")});for(const[t,,n]of e){const e=t.map(e=>e+"");it(`'${n}' === ${JSON.stringify(e)}`,()=>{o.expect(r.decodeUriFragmentIdentifier(n)).to.eql(e)})}}),describe("toArrayIndexReference()",()=>{it("returns idx when specified as number",()=>{o.expect(r.toArrayIndexReference([],1e3)).to.eql(1e3)}),it("returns 0 when array falsy and idx === '-'",()=>{o.expect(r.toArrayIndexReference(void 0,"-")).to.eql(0)}),it("returns length when idx === '-'",()=>{o.expect(r.toArrayIndexReference(["one"],"-")).to.eql(1)}),it("returns -1 when idx NAN",()=>{o.expect(r.toArrayIndexReference([],"NaN")).to.eql(-1)}),it("returns -1 when idx empty",()=>{o.expect(r.toArrayIndexReference([],"")).to.eql(-1)}),it("returns -1 when idx large numeric string but NaN",()=>{o.expect(r.toArrayIndexReference([],"999s9")).to.eql(-1)})}),describe("setValueAtPath()",()=>{it("throws when target undefined",()=>{o.expect(()=>r.setValueAtPath(void 0,0,["foo"])).to.throw("Cannot set values on undefined")});const e={one:["two",{three:"four"}]};it("does not set at end of array if not forced",()=>{const t=e.one.length;o.expect(r.setValueAtPath(e,"VV",["one",2])).to.be.undefined,o.expect(e.one.length).to.eql(t)}),it("will set at end of array if forced",()=>{o.expect(r.setValueAtPath(e,"VV",["one",2],!0)).to.be.undefined,o.expect(e.one[2]).to.eql("VV")}),it("does not set beyond end of array if not forced",()=>{const t=e.one.length;o.expect(r.setValueAtPath(e,"VV",["one",5])).to.be.undefined,o.expect(e.one.length).to.eql(t)}),it("will set beyond end of array if forced",()=>{o.expect(r.setValueAtPath(e,"VV",["one",5],!0)).to.be.undefined,o.expect(e.one[5]).to.eql("VV")})}),describe("unsetValueAtPath()",()=>{it("throws when target undefined",()=>{o.expect(()=>r.unsetValueAtPath(void 0,["foo"])).to.throw("Cannot unset values on undefined")});const e={a:["one",{two:"three"},"four",{five:{six:"seven"}}]};it("can unset array elements",()=>{const t=e.a[0];o.expect(r.unsetValueAtPath(e,r.decodePointer("/a/0"))).to.eql(t),o.expect(e.a[0]).to.be.undefined}),it("returns undefined if reference beyond array length",()=>{o.expect(r.unsetValueAtPath(e,r.decodePointer("/a/7"))).to.undefined}),it("succeeds when path through array",()=>{const t=e.a[3].six;o.expect(r.unsetValueAtPath(e,r.decodePointer("/a/3/six"))).to.eql(t)})})})}]);